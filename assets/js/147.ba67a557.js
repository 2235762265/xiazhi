(window.webpackJsonp=window.webpackJsonp||[]).push([[147],{573:function(t,e,a){"use strict";a.r(e);var r=a(2),s=Object(r.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"reacté¢è¯•é¢˜"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reacté¢è¯•é¢˜"}},[t._v("#")]),t._v(" reacté¢è¯•é¢˜")]),t._v(" "),e("h2",{attrs:{id:"ğŸ’˜-01-åŸºæœ¬è¯­æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-01-åŸºæœ¬è¯­æ³•"}},[t._v("#")]),t._v(" ğŸ’˜ 01-åŸºæœ¬è¯­æ³•")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-vueå’ŒreactåŒºåˆ«-å¾…å®Œå–„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-vueå’ŒreactåŒºåˆ«-å¾…å®Œå–„"}},[t._v("#")]),t._v(" ğŸŒŸ vueå’ŒreactåŒºåˆ«   å¾…å®Œå–„")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-diffç®—æ³•åŒºåˆ«-å¾…å®Œå–„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-diffç®—æ³•åŒºåˆ«-å¾…å®Œå–„"}},[t._v("#")]),t._v(" ğŸŒŸ diffç®—æ³•åŒºåˆ«   å¾…å®Œå–„")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›-jsxçš„ä¼˜ç‚¹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›-jsxçš„ä¼˜ç‚¹"}},[t._v("#")]),t._v(" ğŸŒ› jsxçš„ä¼˜ç‚¹")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›babelåŸç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›babelåŸç†"}},[t._v("#")]),t._v(" ğŸŒ›babelåŸç†")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶åŒºåˆ«"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶åŒºåˆ«"}},[t._v("#")]),t._v(" ğŸŒŸ å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶åŒºåˆ«")]),t._v(" "),e("p",[t._v("å‡½æ•°ç»„ä»¶ï¼šæ— çŠ¶æ€ä¹Ÿå°±æ˜¯æ¨¡å‹æ•°æ®ï¼Œæ— ç”Ÿå‘½å‘¨æœŸ   hooks\nç±»ç»„ä»¶ï¼šæœ‰çŠ¶æ€ï¼Œæœ‰ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-å‡½æ•°ç»„ä»¶å¦‚ä½•çŠ¶æ€ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-å‡½æ•°ç»„ä»¶å¦‚ä½•çŠ¶æ€ç®¡ç†"}},[t._v("#")]),t._v(" ğŸŒŸ å‡½æ•°ç»„ä»¶å¦‚ä½•çŠ¶æ€ç®¡ç†")]),t._v(" "),e("p",[t._v("å¯ä»¥é€šè¿‡reduxã€æˆ– hookæ˜¯æ–°æŠ€æœ¯")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-çŠ¶æ€stateã€å’Œå±æ€§propsåŒºåˆ«-å¦‚ä½•é€‰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-çŠ¶æ€stateã€å’Œå±æ€§propsåŒºåˆ«-å¦‚ä½•é€‰"}},[t._v("#")]),t._v(" ğŸŒŸ çŠ¶æ€stateã€å’Œå±æ€§propsåŒºåˆ«ï¼›å¦‚ä½•é€‰")]),t._v(" "),e("p",[t._v("è¯­æ³•è§’åº¦")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("stateå¯ä»¥æ›´æ–°\npropså› ä¸ºå•å‘æ•°æ®æµä¸å¯ä»¥æ›´æ”¹\n")])])]),e("p",[t._v("åŠŸèƒ½è§’åº¦")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("stateä¸»è¦æ˜¯ç»„ä»¶å†…éƒ¨çŠ¶æ€ç®¡ç†ï¼Œä¾‹å¦‚æ”¶é›†è¡¨å•æ•°æ®ã€dialogçŠ¶æ€ç®¡ç†ç­‰ç­‰\npropsä¸»è¦å­ç»„ä»¶ä¼ é€’å±æ€§ï¼Œä¾‹å¦‚æ™®é€šçš„buttonæŒ‰é’®ã€tableè¡¨æ ¼ã€pageåˆ†é¡µç­‰ç­‰éƒ½æœ‰å¤§é‡ä½¿ç”¨\n")])])]),e("h3",{attrs:{id:"ğŸŒŸ-ç±»ç»„ä»¶setstateåº•å±‚åŸç†-å¾…å®Œæˆ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-ç±»ç»„ä»¶setstateåº•å±‚åŸç†-å¾…å®Œæˆ"}},[t._v("#")]),t._v(" ğŸŒŸ ç±»ç»„ä»¶setStateåº•å±‚åŸç†   å¾…å®Œæˆ")]),t._v(" "),e("p",[t._v("æ•°æ®æ›´æ–°çš„æ—¶å€™åšäº†äº›ä»€ä¹ˆ")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›-ç±»ç»„ä»¶ç»§æ‰¿èƒ½ç»§æ‰¿å“ªäº›ä¸œè¥¿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›-ç±»ç»„ä»¶ç»§æ‰¿èƒ½ç»§æ‰¿å“ªäº›ä¸œè¥¿"}},[t._v("#")]),t._v(" ğŸŒ› ç±»ç»„ä»¶ç»§æ‰¿èƒ½ç»§æ‰¿å“ªäº›ä¸œè¥¿")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-è°ˆè°ˆä½ å¯¹å—æ§ç»„ä»¶ã€éå—æ§ç»„ä»¶çš„ç†è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-è°ˆè°ˆä½ å¯¹å—æ§ç»„ä»¶ã€éå—æ§ç»„ä»¶çš„ç†è§£"}},[t._v("#")]),t._v(" ğŸŒŸ è°ˆè°ˆä½ å¯¹å—æ§ç»„ä»¶ã€éå—æ§ç»„ä»¶çš„ç†è§£")]),t._v(" "),e("p",[t._v("å—æ§ç»„ä»¶ï¼šé€šè¿‡reactæ§åˆ¶è¡¨å•çš„è¾“å…¥è¾“å‡º")]),t._v(" "),e("p",[t._v("éå—æ§ç»„ä»¶ï¼šé€šè¿‡DOMæ“ä½œè¡¨å•æ•°æ®")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-åœ¨reactä¸­å®ç°ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-åœ¨reactä¸­å®ç°ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼"}},[t._v("#")]),t._v(" ğŸŒŸ åœ¨reactä¸­å®ç°ç»„ä»¶é€šä¿¡æœ‰å“ªäº›æ–¹å¼")]),t._v(" "),e("p",[t._v("çˆ¶ä¼ å­ï¼šprops")]),t._v(" "),e("p",[t._v("å­ä¼ çˆ¶ï¼šè°ƒç”¨çˆ¶çš„æ–¹æ³•")]),t._v(" "),e("p",[t._v("å…„å¼Ÿï¼šçŠ¶æ€æå‡")]),t._v(" "),e("p",[t._v("ç»„ä»¶å®ä¾‹ï¼šref    =ã€‹ å±äºrefè½¬å‘ã€refå¼•ç”¨å®ç°ç»„ä»¶é€šä¿¡")]),t._v(" "),e("p",[t._v("childrenå±æ€§ =ã€‹ä¹Ÿæ˜¯çˆ¶ä¼ å­ è¶…æ–‡æœ¬")]),t._v(" "),e("p",[t._v("context")]),t._v(" "),e("p",[t._v("çŠ¶æ€ç®¡ç†å·¥å…·ï¼šreduxã€redux-toolkit(RTK)ã€mobxç­‰")]),t._v(" "),e("p",[t._v("ç­‰ç­‰")]),t._v(" "),e("h2",{attrs:{id:"ğŸŒŸ-childrenå±æ€§æœ‰å•¥ç”¨-å“ªé‡Œç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-childrenå±æ€§æœ‰å•¥ç”¨-å“ªé‡Œç”¨"}},[t._v("#")]),t._v(" ğŸŒŸ childrenå±æ€§æœ‰å•¥ç”¨ï¼Œå“ªé‡Œç”¨")]),t._v(" "),e("p",[t._v("ä½œç”¨ï¼šè·å–ç»„ä»¶åŒæ ‡ç­¾é‡Œé¢çš„æ•°æ®")]),t._v(" "),e("p",[t._v("åœºæ™¯ï¼šå°è£…é¡µé¢ç»„ä»¶ã€å…¬å…±ç»„ä»¶ã€æˆ–è€…åå°ä¸¤æ å¸ƒå±€ç­‰ç­‰")]),t._v(" "),e("h2",{attrs:{id:"ğŸ’˜-02-ç”Ÿå‘½å‘¨æœŸ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-02-ç”Ÿå‘½å‘¨æœŸ"}},[t._v("#")]),t._v(" ğŸ’˜ 02-ç”Ÿå‘½å‘¨æœŸ")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›-åº”ç”¨åœºæ™¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›-åº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" ğŸŒŸ reactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›&åº”ç”¨åœºæ™¯")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("å•è¯\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tè§¦å‘æœºåˆ¶ \t\t\t    åº”ç”¨åœºæ™¯\n\næŒ‚è½½\nconstructor\t\t\t\t\t\t  \t\t\t\t é¦–æ¬¡\t\t\t\t\t  \tåˆå§‹åŒ–refã€stateç­‰å±æ€§\nstatic getDerivedStateFromProps  é¦–æ¬¡&çŠ¶æ€/å±æ€§\t    è¾ƒå°‘ï¼Œç›‘æ§propsæ›´æ–°state\ncomponentWillMount\t\t\t\t   \t\t é¦–æ¬¡\t\t\t      \t\tå¼ƒ1\nrender\t\t\t\t\t\t\t  \t\t\t\t  \té¦–æ¬¡&çŠ¶æ€/å±æ€§    æ¸²æŸ“é¡µé¢\ncomponentDidMount\t\t\t\t   \t\t   é¦–æ¬¡\t\t\t\t \t\t   å¼‚æ­¥è¯·æ±‚ã€æ“ä½œDOM å¦‚echartsã€swiper\n\næ›´æ–°å±æ€§/çŠ¶æ€\n\nstatic getDerivedStateFromProps   é¦–æ¬¡&çŠ¶æ€/å±æ€§\t\tè¾ƒå°‘ï¼Œç›‘æ§propsæ›´æ–°state\ncomponentWillReceiveProps\t\t   \t\tä»…å±æ€§\t\t\t\t  \tå¼ƒ2\nshouldComponentUpdate   \t\t   \t\tå±æ€§/çŠ¶æ€\t\t\t\t\tå­ç»„ä»¶å‡å°‘æ¸²æŸ“æ¬¡æ•°  æ€§èƒ½ä¼˜åŒ–\ncomponentWillUpdate\t\t\t\t   \t\t\tå±æ€§/çŠ¶æ€\t\t\t\t\tå¼ƒ3\nrender\t\t\t\t\t\t\t  \t\t\t\t\t\té¦–æ¬¡&çŠ¶æ€/å±æ€§\t\t æ¸²æŸ“é¡µé¢\ngetSnapshotBeforeUpdate\t\t\t   \t\tå±æ€§/çŠ¶æ€\t     DOMæ›´æ–°å‰æ”¶é›†DOMä¿¡æ¯äº¤ç»™componentDidUpdate\ncomponentDidUpdate\t\t\t\t   \t\t\tå±æ€§/çŠ¶æ€\t\t\tç›‘æ§æ›´æ–°è¿›ä¸€æ­¥æ“ä½œDOMã€èŠå¤©ã€echarts\n\nå¸è½½\ncomponentWillUnmount\t\t\t    \t\tç»„ä»¶å¸è½½\t\t\tæ¸…é™¤éreactèµ„æº ä¾‹å¦‚ç™»é™†å®šæ—¶å™¨\n\né”™è¯¯\ncomponentDidCatch\t\t\t\t   \t\t\t\tåä»£ç»„ä»¶å‘é”™å¼‚å¸¸é”™è¯¯\n")])])]),e("p",[t._v("é—®1ï¼šreactç”Ÿå‘½å‘¨æœŸæœ‰å“ªäº›")]),t._v(" "),e("p",[t._v("ç­”1ï¼šæŒºå¤šçš„æŒ‚è½½ã€æ›´æ–°ã€å¸è½½ç­‰ç­‰ï¼Œç„¶åæˆ‘å¸¸ç”¨çš„å°±æ˜¯componentDidMount")]),t._v(" "),e("p",[t._v("é—®2ï¼šå…·ä½“å‘¢")]),t._v(" "),e("p",[t._v("ç­”2")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("componentWillMount\nrender\ncomponentDidMount\n\ncomponentWillUpdate\nrender\ncomponentDidUpdate\n\ncomponentWillUnmount\n...\n")])])]),e("h3",{attrs:{id:"ğŸŒŸ-react16-3æ–°å¢äº†å“ªäº›ã€å¼ƒç”¨äº†å“ªäº›"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-react16-3æ–°å¢äº†å“ªäº›ã€å¼ƒç”¨äº†å“ªäº›"}},[t._v("#")]),t._v(" ğŸŒŸ react16.3æ–°å¢äº†å“ªäº›ã€å¼ƒç”¨äº†å“ªäº›")]),t._v(" "),e("p",[t._v("æ–°å¢")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("å•è¯\t\t\t\t\t\t      \t\t\t\t\t\tè§¦å‘æœºåˆ¶  \t    åœºæ™¯\nstatic getDerivedStateFromProps   é¦–æ¬¡&å±æ€§/çŠ¶æ€    æ¡ˆä¾‹è¾ƒå°‘ï¼Œä¸»è¦ç›‘æ§propså˜åŒ–æ›´æ–°stateç”¨    \ngetSnapshotBeforeUpdate\t\t\t \t\t  å±æ€§/çŠ¶æ€        æ¡ˆä¾‹æ›´å°‘ï¼Œåœ¨æ›´æ–°DOMä¹‹å‰æ”¶é›†DOMä¿¡æ¯\n")])])]),e("p",[t._v("å¼ƒç”¨")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("componentWillMount\t\t\t\t   \t  é¦–æ¬¡\t\t\t   \t\t å¼ƒ1\ncomponentWillReceiveProps\t\t   \tä»…å±æ€§\t\t\t\t  \tå¼ƒ2\ncomponentWillUpdate\t\t\t\t   \t\tå±æ€§/çŠ¶æ€\t\t\t\t\tå¼ƒ3\n")])])]),e("h3",{attrs:{id:"ğŸŒŸ-reactç”¨æ¥ä¼˜åŒ–æ€§èƒ½çš„æ˜¯å“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ-è¯´ä¸€ä¸‹å®æˆ˜å¦‚ä½•ä¼˜åŒ–ä½¿ç”¨"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-reactç”¨æ¥ä¼˜åŒ–æ€§èƒ½çš„æ˜¯å“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ-è¯´ä¸€ä¸‹å®æˆ˜å¦‚ä½•ä¼˜åŒ–ä½¿ç”¨"}},[t._v("#")]),t._v(" ğŸŒŸ reactç”¨æ¥ä¼˜åŒ–æ€§èƒ½çš„æ˜¯å“ªä¸€ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œè¯´ä¸€ä¸‹å®æˆ˜å¦‚ä½•ä¼˜åŒ–ä½¿ç”¨")]),t._v(" "),e("p",[t._v("shouldComponentUpdate")]),t._v(" "),e("p",[t._v("é¿å…çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§åé¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§å¦‚ä½•é¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§å¦‚ä½•é¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“"}},[t._v("#")]),t._v(" ğŸŒŸ çˆ¶ç»„ä»¶æ›´æ–°çŠ¶æ€æˆ–è€…å±æ€§å¦‚ä½•é¿å…å­ç»„ä»¶ä¸å¿…è¦æ¸²æŸ“")]),t._v(" "),e("p",[t._v("é€šè¿‡shouldComponentUpdate")]),t._v(" "),e("p",[t._v("æˆ–è€…ç›´æ¥ç»§æ‰¿PureComponent")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-è¯´å‡ºæ–°å¢çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªåº”ç”¨åœºæ™¯"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-è¯´å‡ºæ–°å¢çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªåº”ç”¨åœºæ™¯"}},[t._v("#")]),t._v(" ğŸŒŸ è¯´å‡ºæ–°å¢çš„ç”Ÿå‘½å‘¨æœŸå„è‡ªåº”ç”¨åœºæ™¯")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("å•è¯\t\t\t\t\t\t      \t\t\t\t\t\tè§¦å‘æœºåˆ¶  \t    åœºæ™¯\nstatic getDerivedStateFromProps   é¦–æ¬¡&å±æ€§/çŠ¶æ€    æ¡ˆä¾‹è¾ƒå°‘ï¼Œä¸»è¦ç›‘æ§propså˜åŒ–æ›´æ–°stateç”¨    \ngetSnapshotBeforeUpdate\t\t\t \t\t  å±æ€§/çŠ¶æ€        æ¡ˆä¾‹æ›´å°‘ï¼Œåœ¨æ›´æ–°DOMä¹‹å‰æ”¶é›†DOMä¿¡æ¯\n")])])]),e("h3",{attrs:{id:"ğŸŒŸ-çˆ¶å­ç»„ä»¶mountç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-çˆ¶å­ç»„ä»¶mountç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"}},[t._v("#")]),t._v(" ğŸŒŸ çˆ¶å­ç»„ä»¶mountç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-çˆ¶å­ç»„ä»¶updateç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-çˆ¶å­ç»„ä»¶updateç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº"}},[t._v("#")]),t._v(" ğŸŒŸ çˆ¶å­ç»„ä»¶updateç”Ÿå‘½å‘¨æœŸæ‰§è¡Œé¡ºåº")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("çˆ¶å­åµŒå¥—ç”Ÿå‘½å‘¨æœŸï¼ˆä¸€èˆ¬ä¸ª1~2ä¸ªæ¦‚ç‡ï¼‰\n\tmount é¦–æ¬¡åˆ·æ–°æˆ–è€…ç»„ä»¶é”€æ¯åé‡æ–°åˆ›å»º**\n\t\tf will mount\n\t\tf render\n\t\t\ts will mount\n\t\t\ts render\n\t\t\ts did mount\n\t\tf did mount\n\tupdate \n\t\tf will update\n\t\tf render\n\t\t\ts will receive props\n\t\t\ts will update\n\t\t\ts render\n\t\t\ts did update\n\t\tf did update\n\t\t\nç”Ÿå‘½å‘¨æœŸå½¢å‚äº†è§£ï¼šä»…ç»™ä½ ä¼ é€’æ„è¯† \n")])])]),e("h2",{attrs:{id:"ğŸ’˜-03-çŠ¶æ€ç®¡ç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-03-çŠ¶æ€ç®¡ç†"}},[t._v("#")]),t._v(" ğŸ’˜ 03-çŠ¶æ€ç®¡ç†")]),t._v(" "),e("h3",{attrs:{id:"è°ˆè°ˆä½ å¯¹reduxç†è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#è°ˆè°ˆä½ å¯¹reduxç†è§£"}},[t._v("#")]),t._v(" è°ˆè°ˆä½ å¯¹reduxç†è§£")]),t._v(" "),e("h3",{attrs:{id:"reduxå’ŒvuexåŒºåˆ«"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#reduxå’ŒvuexåŒºåˆ«"}},[t._v("#")]),t._v(" reduxå’ŒvuexåŒºåˆ«")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-reduxå·¥ä½œæµ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-reduxå·¥ä½œæµ"}},[t._v("#")]),t._v(" ğŸŒŸ reduxå·¥ä½œæµ")]),t._v(" "),e("p",[t._v("é¦–å…ˆå®šä¹‰storeã€reducer")]),t._v(" "),e("p",[t._v("ç„¶åé€šè¿‡dispatchæ›´æ–°æ•°æ®")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›è°ˆè°ˆä½ å¯¹çº¯å‡½æ•°ã€å’Œå‰¯ä½œç”¨çš„ç†è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›è°ˆè°ˆä½ å¯¹çº¯å‡½æ•°ã€å’Œå‰¯ä½œç”¨çš„ç†è§£"}},[t._v("#")]),t._v(" ğŸŒ›è°ˆè°ˆä½ å¯¹çº¯å‡½æ•°ã€å’Œå‰¯ä½œç”¨çš„ç†è§£")]),t._v(" "),e("p",[t._v("çº¯å‡½æ•°ï¼š reduceråªèƒ½è¿›è¡ŒçŠ¶æ€ç®¡ç†ã€ä¸èƒ½æœ‰å…¶ä»–å‰¯ä½œç”¨")]),t._v(" "),e("p",[t._v("å‰¯ä½œç”¨ï¼šå¼‚æ­¥è¯·æ±‚ã€æµè§ˆå™¨ç¼“å­˜ç­‰éƒ½ç®—å‰¯ä½œç”¨")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›è°ˆè°ˆä½ å¯¹ä¸­é—´ä»¶çš„ç†è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›è°ˆè°ˆä½ å¯¹ä¸­é—´ä»¶çš„ç†è§£"}},[t._v("#")]),t._v(" ğŸŒ›è°ˆè°ˆä½ å¯¹ä¸­é—´ä»¶çš„ç†è§£")]),t._v(" "),e("p",[t._v("ä¸­é—´ä»¶ï¼šä¸»è¦æ˜¯requestè¯·æ±‚å±‚ç”¨æ¥è¿‡æ»¤å¤„ç†æ•°æ®çš„ï¼Œç„¶ånextç»§ç»­å‘åå¤„ç†")]),t._v(" "),e("p",[t._v("reduxä¸­çš„ä¸­é—´ä»¶ä¸»è¦ç”¨æ¥å¤„ç†ä¸€äº›ã€å‰¯ä½œç”¨ã€‘å¤„ç†å®Œæˆä¹‹åï¼Œå†ã€dispatchã€‘è§¦å‘reducerå¤„ç†")]),t._v(" "),e("p",[t._v("è¿½é—®1ï¼šä½ ç”¨è¿‡å“ªäº›ä¸­é—´ä»¶")]),t._v(" "),e("p",[t._v("å›ç­”1ï¼šredux-loggerã€redux-thunkã€redux-saga")]),t._v(" "),e("p",[t._v("è¿½é—®2ï¼šredux-thunkã€redux-saga åŒºåˆ«")]),t._v(" "),e("p",[t._v("å›ç­”2ï¼šredux-thunk ä¼šæœ‰å¾ˆå¤šcallbackã€ redux-sagaæ˜¯åŸºäºes6 generatorå¼€å‘çš„  æ‰€ä»¥æ²¡æœ‰è¿™ä¸ªé—®é¢˜")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸæ·±æµ…æ‹·è´"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸæ·±æµ…æ‹·è´"}},[t._v("#")]),t._v(" ğŸŒŸæ·±æµ…æ‹·è´")]),t._v(" "),e("p",[t._v("é—®1ï¼šè°ˆè°ˆä½ å¯¹æ·±æ‹·è´ã€æµ…æ‹·è´çš„ç†è§£")]),t._v(" "),e("p",[t._v("ç­”1ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("æµ…æ‹·è´ï¼šèµ‹å€¼åç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡**ä¹Ÿå°±æ˜¯æœ‰æ–°çš„ã€å †ã€‘åœ°å€**ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡é‡Œæœ‰åŸå¯¹è±¡çš„æ‰€æœ‰æ•°æ®ï¼Œå…¶ä¸­åŸå§‹ç±»å‹æ‹·è´å€¼ï¼Œå¼•ç”¨/å¯¹è±¡ç±»å‹æ‹·è´åœ°å€\næ·±æ‹·è´ï¼šèµ‹å€¼åç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡**ä¹Ÿå°±æ˜¯æœ‰æ–°çš„ã€å †ã€‘åœ°å€**ï¼Œå¹¶ä¸”è¿™ä¸ªå¯¹è±¡é‡Œæœ‰åŸå¯¹è±¡çš„æ‰€æœ‰æ•°æ®ï¼Œå®Œå…¨ç‹¬ç«‹äº’ä¸å½±å“\n")])])]),e("p",[t._v("é—®2ï¼šå¦‚ä½•å®ç°æ·±æ‹·è´")]),t._v(" "),e("p",[t._v("ç­”2ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("æµ…æ‹·è´ï¼šå±•å¼€è¿ç®—ç¬¦ã€Object.assign()ã€lodash.cloneã€Array.prototype.concat/slice\næ·±æ‹·è´ï¼šJSONå¯¹è±¡æ–¹å¼ã€è‡ªå·±å†™é€’å½’ã€lodash.cloneDeepã€immutable\n")])])]),e("p",[t._v("é—®3ï¼šJSONå®ç°æ·±æ‹·è´çš„ç¼ºç‚¹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("åŸç†ï¼šæŠŠå¯¹è±¡è½¬æˆåŸºæœ¬æ•°æ®ç±»å‹åï¼Œå°±ç­‰äºå’Œä¹‹å‰çš„å †å†…å­˜æŠŠè”ç³»æ–­äº†ï¼Œåœ¨è½¬æˆå¯¹è±¡å¼€è¾Ÿäº†æ–°çš„å †å†…å­˜ç©ºé—´\nç‰¹ç‚¹\nå¦‚æœå¯¹è±¡é‡Œæœ‰bigintç±»å‹ä¼šæŠ¥é”™ï¼Œå¯¹äºbigint ç±»å‹æ— æ³•è½¬æ¢\nå¯¹äºundefined,symbol,function ç­‰ç±»å‹ä¼šä¸¢å¤±å¯¹åº”çš„å±æ€§\nå¯¹äºerror regexp è¿™äº›ç±»å‹ï¼Œå±æ€§å€¼ä¼šå˜ç©º\nå¯¹äºå±æ€§å€¼æ˜¯date ç­‰ç±»å‹çš„ï¼Œå±æ€§å€¼å˜æˆå­—ç¬¦ä¸²ï¼Œå°±ç®—å†æ¬¡è½¬æ¢å±æ€§å€¼ä¹Ÿè¿˜æ˜¯å­—ç¬¦ä¸²\n")])])]),e("h3",{attrs:{id:"_15-reduxçš„åŸç†"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_15-reduxçš„åŸç†"}},[t._v("#")]),t._v(" 15.Reduxçš„åŸç†")]),t._v(" "),e("h3",{attrs:{id:"_16-reduceå’Œactionçš„åŒºåˆ«"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_16-reduceå’Œactionçš„åŒºåˆ«"}},[t._v("#")]),t._v(" 16.Reduceå’Œactionçš„åŒºåˆ«")]),t._v(" "),e("h3",{attrs:{id:"_17-reduxç»„ä»¶ä¼ å€¼"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_17-reduxç»„ä»¶ä¼ å€¼"}},[t._v("#")]),t._v(" 17.Reduxç»„ä»¶ä¼ å€¼")]),t._v(" "),e("h2",{attrs:{id:"ğŸ’˜-04-hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-04-hooks"}},[t._v("#")]),t._v(" ğŸ’˜ 04-hooks")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-è°ˆè°ˆä½ å¯¹hooksç†è§£"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-è°ˆè°ˆä½ å¯¹hooksç†è§£"}},[t._v("#")]),t._v(" ğŸŒŸ è°ˆè°ˆä½ å¯¹hooksç†è§£")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-ç”¨hooks-æ„ä¹‰"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-ç”¨hooks-æ„ä¹‰"}},[t._v("#")]),t._v(" ğŸŒŸ ç”¨hooks æ„ä¹‰")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-hookç§ç±»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-hookç§ç±»"}},[t._v("#")]),t._v(" ğŸŒŸ hookç§ç±»")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-è‡ªå·±å°è£…è¿‡å“ªäº›hook"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-è‡ªå·±å°è£…è¿‡å“ªäº›hook"}},[t._v("#")]),t._v(" ğŸŒŸ è‡ªå·±å°è£…è¿‡å“ªäº›hook")]),t._v(" "),e("h3",{attrs:{id:"usedispatchå’Œuseselector"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#usedispatchå’Œuseselector"}},[t._v("#")]),t._v(" useDispatchå’ŒuseSelector")]),t._v(" "),e("h3",{attrs:{id:"useeffect-4ç§ç”¨æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#useeffect-4ç§ç”¨æ³•"}},[t._v("#")]),t._v(" useeffect 4ç§ç”¨æ³•")]),t._v(" "),e("h3",{attrs:{id:"å¯¹å˜é‡åšç›‘æ§æ€ä¹ˆåš-vueé‡Œå‘¢"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹å˜é‡åšç›‘æ§æ€ä¹ˆåš-vueé‡Œå‘¢"}},[t._v("#")]),t._v(" å¯¹å˜é‡åšç›‘æ§æ€ä¹ˆåšï¼ŸVueé‡Œå‘¢ï¼Ÿ")]),t._v(" "),e("h2",{attrs:{id:"ğŸ’˜-05-è·¯ç”±"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-05-è·¯ç”±"}},[t._v("#")]),t._v(" ğŸ’˜ 05-è·¯ç”±")]),t._v(" "),e("h3",{attrs:{id:"v5è¯­æ³•å¤ä¹ ğŸŒ›"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v5è¯­æ³•å¤ä¹ ğŸŒ›"}},[t._v("#")]),t._v(" v5è¯­æ³•å¤ä¹ ğŸŒ›")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import {\n  BrowserRouter as Router, // historyæ¨¡å¼\n  // æˆ–\n  // HashRouter as Router, // hashæ¨¡å¼\n  \n  Route,   // ç”¨äºå®šä¹‰è·¯ç”±\n  // Link,    // ç”¨äºè·³è½¬è·¯ç”±ï¼ˆå£°æ˜å¼å¯¼èˆªï¼‰\n  NavLink,    // ç”¨äºè·³è½¬è·¯ç”±ï¼ˆå£°æ˜å¼å¯¼èˆªï¼‰\n  Switch,     // è·¯çº¿åŒ¹é…Switch\n  Redirect    // é‡å®šå‘è·¯ç”±\n} from "react-router-dom";\n\n\n<Router>\n\n        <ul>\n            <li><NavLink to="/dy">ç”µå½±</NavLink></li>\n            <li><NavLink to="/yy">å½±é™¢</NavLink></li>\n            <li><NavLink to="/th">ç‰¹æƒ </NavLink></li>\n            <li><NavLink to="/my">æˆ‘çš„</NavLink></li>\n        </ul>\n        <hr />\n        <Switch>\n          <Route path="/"  component={Dy} exact />\n          <Route path="/dy" component={Dy} />\n          <Route path="/yy" component={Yy} />\n          <Route path="/th" component={Th} />\n          <Route path="/my"> <My /> </Route>\n          <Route path="/404" component={()=><h1>404</h1>} />\n          <Redirect to="/404" />\n        </Switch>\n</Router\n\n')])])]),e("h3",{attrs:{id:"v5-è·¯ç”±ä¼ å‚-3ç§ç±»"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v5-è·¯ç”±ä¼ å‚-3ç§ç±»"}},[t._v("#")]),t._v(" v5 è·¯ç”±ä¼ å‚ 3ç§ç±»")]),t._v(" "),e("p",[t._v("å‚æ•°ç§ç±»ï¼šqueryã€params")]),t._v(" "),e("p",[t._v("ä¼ å‚æ–¹å¼ï¼švue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("queryã€path\t\t\t     this.$router.push( {query, path} )\t\tå®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘\nparamsã€name å†™å†’å·    this.$router.push( {params, name} )  å®šä¹‰è·¯ç”±æ—¶ã€éœ€è¦ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘ \nparamsã€name ä¸å†™å†’å·\tthis.$router.push( {params, name} )  å®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸¢å¤±ã€‘\n\n\nè·å–å‚æ•°ï¼šthis.$route.params/query.å‚æ•°å\n")])])]),e("p",[t._v("ä¼ å‚æ–¹å¼ï¼š")]),t._v(" "),e("blockquote",[e("ul",[e("li",[t._v("paramsä¼ å‚ï¼šå®šä¹‰è·¯ç”±æ—¶ã€éœ€è¦ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„/6'})    \t\nè·å–ï¼šthis.props.match.params.å‚æ•°å\n")])])]),e("ul",[e("li",[t._v("stateä¼ å‚ ï¼šå®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€BrowserRouterä¸ä¸¢å¤±ã€HashRouterä¸¢å¤±ã€‘")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„', state:{å‚æ•°å:å€¼,...}})  \nè·å–ï¼šthis.props.location.state.å‚æ•°å\n")])])]),e("ul",[e("li",[t._v("queryä¼ å‚ï¼šå®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸¢å¤±ã€‘")])]),t._v(" "),e("blockquote",[e("p",[t._v("æ³¨ï¼šæ­¤queryéæ¯”queryåœ°å€æ æ˜¯æ²¡æœ‰? åªæ˜¯å®ƒäº¤query")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„', query:{å‚æ•°å:å€¼,...}})\nè·å–ï¼šthis.props.location.query.å‚æ•°å\n")])])]),e("ul",[e("li",[t._v("å…¶ä»–")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("this.props.history.go(-1/2æ•°å­—)\n")])])])]),t._v(" "),e("h3",{attrs:{id:"v5-ç™»å½•é‰´æƒprivateroute"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v5-ç™»å½•é‰´æƒprivateroute"}},[t._v("#")]),t._v(" v5 ç™»å½•é‰´æƒPrivateRoute")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import { Route, Redirect } from "react-router-dom"\n\nfunction PrivateRoute(props) {\n // è·å–ç”¨æˆ·ä¿¡æ¯\n let token = localStorage.getItem(\'token\')\n // åˆ¤æ–­\n if (token) {\n     return <Route {...props} />\n }\n\n return <Redirect to="/login" />\n}\n\nexport default PrivateRoute\n\n\n\n\n\n<PrivateRoute path="/admin" exact component={Welcome} />\n<PrivateRoute path="/admin/users" component={Users} />\n<PrivateRoute path="/admin/orders" component={Orders} />\n')])])]),e("h3",{attrs:{id:"v6-å‡çº§è¯­æ³•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v6-å‡çº§è¯­æ³•"}},[t._v("#")]),t._v(" v6 å‡çº§è¯­æ³•")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("https://reactrouter.com/docs/en/v6/upgrading/v5")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("<Switch>")]),t._v("é‡å‘½åä¸º"),e("code",[t._v("<Routes>")]),t._v("ã€‚")])]),t._v(" "),e("li",[e("p",[e("code",[t._v("<Route>")]),t._v("çš„æ–°ç‰¹æ€§å˜æ›´ã€‚      æ³¨ï¼šcomponentã€element     ä¸ç”¨å†™exactã€elementå¯ä»¥ç›´æ¥é‰´æƒ")])]),t._v(" "),e("li",[e("p",[t._v("åµŒå¥—è·¯ç”±å˜å¾—æ›´ç®€å•ã€‚     æ³¨ï¼šv5æ’æ§½ã€ v6ç›´æ¥å†™")])]),t._v(" "),e("li",[e("p",[t._v("å»æ‰"),e("code",[t._v("<Redirect>")])])]),t._v(" "),e("li",[e("p",[t._v("æ–°é’©å­"),e("code",[t._v("useRoutes")]),t._v("ä»£æ›¿"),e("code",[t._v("react-router-config")]),t._v("ã€‚  æ³¨ï¼š  å°±æ˜¯å’Œvueä¸€æ ·çš„è·¯ç”±")])]),t._v(" "),e("li",[e("p",[t._v("å¤§å°å‡å°‘ï¼šä»"),e("code",[t._v("20kb")]),t._v("åˆ°"),e("code",[t._v("8kb")])])]),t._v(" "),e("li",[e("p",[t._v("å¤§é‡ä½¿ç”¨"),e("a",{attrs:{href:"https://reactjs.org/docs/hooks-intro.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("React hooks"),e("OutboundLink")],1)])]),t._v(" "),e("li",[e("p",[t._v("ç­‰ç­‰")])])]),t._v(" "),e("h3",{attrs:{id:"v6-è¯­æ³•å¤ä¹ "}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v6-è¯­æ³•å¤ä¹ "}},[t._v("#")]),t._v(" v6 è¯­æ³•å¤ä¹ ")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import {\n  BrowserRouter as Router, // historyæ¨¡å¼\n  // æˆ–\n  // HashRouter as Router, // hashæ¨¡å¼\n  \n  Routes,\n  Route,  \t  // ç”¨äºå®šä¹‰è·¯ç”±\n  NavLink,    // ç”¨äºè·³è½¬è·¯ç”±ï¼ˆå£°æ˜å¼å¯¼èˆªï¼‰\n  // Link     // ç”¨äºè·³è½¬è·¯ç”±ï¼ˆå£°æ˜å¼å¯¼èˆªï¼‰\n  Navigate,   // é‡å®šå‘ä»£æ›¿v5 Redirect\n} from "react-router-dom";\n\n<Router>\n  <ul>\n    <li><NavLink to="/dy">ç”µå½±</NavLink></li>\n    <li><NavLink to="/yy">å½±é™¢</NavLink></li>\n    <li><NavLink to="/th">ç‰¹æƒ </NavLink></li>\n    <li><NavLink to="/my">æˆ‘çš„</NavLink></li>\n  </ul>\n  <hr />\n  <Routes>\n    <Route path="/" element={<Dy />} />\n    <Route path="/dy" element={<Dy />} />\n    <Route path="/yy" element={<Yy />} />\n    <Route path="/th" element={<Th />} />\n    <Route path="/my" element={<My />} />\n    <Route path=\'*\' element={<Navigate to=\'/\' />} />\n  </Routes>\n</Router>\n\n')])])]),e("h3",{attrs:{id:"v6-è·¯ç”±ä¼ å‚hooks"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v6-è·¯ç”±ä¼ å‚hooks"}},[t._v("#")]),t._v(" v6 è·¯ç”±ä¼ å‚hooks")]),t._v(" "),e("blockquote",[e("p",[t._v("paramsä¼ å‚ï¼šå®šä¹‰è·¯ç”±æ—¶ã€éœ€è¦ç®¡ã€‘åˆ·æ–°ã€ä¸ä¸¢å¤±ã€‘")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„/6'})    \t\nè·å–ï¼šthis.props.match.params.å‚æ•°å\n")])])]),e("p",[t._v("stateä¼ å‚ ï¼šå®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€BrowserRouterä¸ä¸¢å¤±ã€HashRouterä¸¢å¤±ã€‘")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„', state:{å‚æ•°å:å€¼,...}})  \nè·å–ï¼šthis.props.location.state.å‚æ•°å\n")])])]),e("p",[t._v("queryä¼ å‚ï¼šå®šä¹‰è·¯ç”±æ—¶ã€ä¸ç”¨ç®¡ã€‘åˆ·æ–°ã€ä¸¢å¤±ã€‘")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("è·³è½¬ï¼šthis.props.history.push({pathname:'/è·¯å¾„', query:{å‚æ•°å:å€¼,...}})\nè·å–ï¼šthis.props.location.query.å‚æ•°å\n")])])]),e("p",[t._v("å…¶ä»–")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("this.props.history.go(-1/2æ•°å­—)\n")])])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("ç§ç±»")]),t._v(" "),e("th",[t._v("hookså")]),t._v(" "),e("th",[t._v("ä½œç”¨")]),t._v(" "),e("th",[t._v("è¯­æ³•")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("paramsä¼ å‚")]),t._v(" "),e("td",[t._v("useParams")]),t._v(" "),e("td",[t._v("è·å–paramså‚æ•°")]),t._v(" "),e("td",[t._v("const {å‚æ•°å, ..., } = useParams()")])]),t._v(" "),e("tr",[e("td",[t._v("stateä¼ å‚")]),t._v(" "),e("td",[t._v("useLocation")]),t._v(" "),e("td",[t._v("è·å–stateå‚æ•°")]),t._v(" "),e("td",[t._v("const location = useLocation()")])]),t._v(" "),e("tr",[e("td",[t._v("searchä¼ å‚")]),t._v(" "),e("td",[t._v("useSearchParams")]),t._v(" "),e("td",[t._v("è·å–å¸¦"),e("code",[t._v("?")]),t._v("é—®å·çš„å‚æ•°")]),t._v(" "),e("td",[t._v("const [search,setSearch] = useSearchParams()    search.get(å‚æ•°å)   setSearch(å‚æ•°å=å€¼&..&å‚æ•°å=å€¼)")])]),t._v(" "),e("tr",[e("td"),t._v(" "),e("td"),t._v(" "),e("td"),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",[t._v("å£°æ˜å¼å¯¼èˆª")]),t._v(" "),e("td",[e("Link",[t._v(" ç»„ä»¶")])],1),t._v(" "),e("td"),t._v(" "),e("td",[e("Link",{attrs:{to:"è·¯å¾„/1"}},[e("Link",{attrs:{to:"è·¯å¾„?id=1"}})],1)],1)]),t._v(" "),e("tr",[e("td",[t._v("ç¼–ç¨‹å¼å¯¼èˆª")]),t._v(" "),e("td",[t._v("useNavigate")]),t._v(" "),e("td"),t._v(" "),e("td",[e("strong",[t._v("const")]),t._v(' navigate = useNavigate()                                                                                              navigate(  "è·¯å¾„/1"  )                                                                                                                                   navigate(  "è·¯å¾„", { state:{} }    )                                                                                                                                     navigate(  "è·¯å¾„?id=6"  )                                                                                              navigate(  1æˆ–-1 )')])])])]),t._v(" "),e("h3",{attrs:{id:"v6ç™»å½•é‰´æƒrequireauth"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v6ç™»å½•é‰´æƒrequireauth"}},[t._v("#")]),t._v(" v6ç™»å½•é‰´æƒrequireAuth")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import {Navigate} from \'react-router-dom\'\n\nfunction RequireAuth({ children }) {\n let token = localStorage.getItem(\'token\') \n if (!token)\n {\n   return <Navigate to="/login" />;\n } \n\n return children\n}\n\nexport default RequireAuth\n\n\n\n <>\n   <Router>\n     <Routes>\n       <Route path="/" element={<Login />} />\n       <Route path="/login" element={<Login />} />\n       <Route\n         path="/admin"\n         element={\n           <RequireAuth>\n             <Layout />\n           </RequireAuth>\n         }\n       >\n         <Route index element={<Admin />} />\n         <Route path="users" element={<Users />} />\n         <Route path="orders" element={<Orders />} />\n       </Route>\n       <Route path="/404" element={<Err404 />}></Route>\n       <Route path="/500" element={<Err500 />}></Route>\n       <Route path="*" element={<Navigate to="/" />} />\n     </Routes>\n   </Router>\n </>\n')])])]),e("h3",{attrs:{id:"v6-é›†ä¸­å¼è·¯ç”±æ¸²æŸ“useroutes"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#v6-é›†ä¸­å¼è·¯ç”±æ¸²æŸ“useroutes"}},[t._v("#")]),t._v(" v6 é›†ä¸­å¼è·¯ç”±æ¸²æŸ“useRoutes")]),t._v(" "),e("blockquote",[e("h1",{attrs:{id:"src-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-index-js"}},[t._v("#")]),t._v(" src/index.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import React from "react";\nimport ReactDOM from "react-dom/client";\nimport App from "./App";\n\nimport { BrowserRouter } from "react-router-dom";\n\nconst root = ReactDOM.createRoot(document.getElementById("root"));\nroot.render(\n<BrowserRouter>\n<App />\n</BrowserRouter>\n);\n\n')])])]),e("h1",{attrs:{id:"src-app-jsx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-app-jsx"}},[t._v("#")]),t._v(" src/App.jsxï¼ï¼ï¼")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// import Router from './router'\n\nimport { useRoutes } from \"react-router-dom\";\nimport routes from './router'\n\nfunction App() {\nreturn <fieldset>\n <legend>App</legend>\n {/* <Router /> */}\n\n {useRoutes(routes)}\n</fieldset>\n}\n\nexport default App\n")])])]),e("h1",{attrs:{id:"src-router-requireauth-jsx"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-router-requireauth-jsx"}},[t._v("#")]),t._v(" src/router/requireAuth.jsx")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import {Navigate} from 'react-router-dom'\n\nfunction RequireAuth({ children }) {\nlet token = localStorage.getItem('token') \nif (!token)\n{\nreturn <Navigate to=\"/login\" />;\n} \n\nreturn children\n}\n\nexport default RequireAuth\n")])])]),e("h1",{attrs:{id:"src-router-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#src-router-index-js"}},[t._v("#")]),t._v(" src/router/index.jsï¼ï¼ï¼")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import { lazy, Suspense } from "react";\nimport { Navigate } from "react-router-dom";\n\nimport RequireAuth from "./requireAuth";\n\nconst Login = lazy(() => import("../pages/login"));\nconst Admin = lazy(() => import("../pages/admin"));\nconst Users = lazy(() => import("../pages/users"));\nconst Orders = lazy(() => import("../pages/orders"));\nconst Layout = lazy(() => import("../layout"));\nconst Err404 = lazy(() => import("../components/err/err404"));\nconst Err500 = lazy(() => import("../components/err/err500"));\nconst lazyload = function (children) {\n\treturn <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>;\n};\n\nconst routes = [\n  { path: "/", element: lazyload(<Login />) },\n  {\n      path: "/admin",\n      element: lazyload(\n          <RequireAuth>\n          <Layout />\n          </RequireAuth>\n      ),\n      children: [\n          { index: true, element: lazyload(<Admin />) },\n          { path: "users", element: lazyload(<Users />) },\n          { path: "orders", element: lazyload(<Orders />) },\n      ],\n  },\n  { path: "/404", element: lazyload(<Err404 />) },\n  { path: "/500", element: lazyload(<Err500 />) },\n  { path: "*", element: <Navigate to="/404" /> },\n];\n\nexport default routes;\n')])])])]),t._v(" "),e("h3",{attrs:{id:"åµŒå¥—è·¯ç”±"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åµŒå¥—è·¯ç”±"}},[t._v("#")]),t._v(" åµŒå¥—è·¯ç”±")]),t._v(" "),e("p",[t._v("v5  æ’æ§½æŠ€æœ¯")]),t._v(" "),e("p",[t._v("v6 ç›´æ¥å†™")]),t._v(" "),e("h3",{attrs:{id:"ç»„ä»¶æ‡’åŠ è½½"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ç»„ä»¶æ‡’åŠ è½½"}},[t._v("#")]),t._v(" ç»„ä»¶æ‡’åŠ è½½")]),t._v(" "),e("p",[t._v("https://pro.ant.design/zh-CN/")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('import { lazy, Suspense } from "react";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from "react-router-dom";\n\nimport RequireAuth from "./requireAuth";\n\nimport Layout from "../layout";\nimport Err404 from "../components/err/err404";\nimport Err500 from "../components/err/err500";\n\n// import Login from "../pages/login";\n// import Welcome from "../pages/welcome";\n// import Users from "../pages/users";\n// import Orders from "../pages/orders";\nconst Login = lazy(() => import("../pages/login"));\nconst Welcome = lazy(() => import("../pages/welcome"));\nconst Users = lazy(() => import("../pages/users"));\nconst Orders = lazy(() => import("../pages/orders"));\nconst lazyload = function (children) {\n  return <Suspense fallback={<div>Loading...</div>}>{children}</Suspense>;\n};\n\nfunction RouterConfig() {\n  return (\n    <>\n      <Router>\n        <Routes>\n          <Route path="/" element={lazyload(<Login />)} />\n          <Route path="/login" element={<Login />} />\n          <Route\n            path="/admin"\n            element={\n              <RequireAuth>\n                <Layout />\n              </RequireAuth>\n            }\n          >\n            <Route index={true} element={lazyload(<Welcome />)} />\n            <Route path="/admin/users" element={lazyload(<Users />)} />\n            <Route path="/admin/orders" element={lazyload(<Orders />)} />\n          </Route>\n          <Route path="/404" element={<Err404 />} />\n          <Route path="/500" element={<Err500 />} />\n          <Route path="*" element={<Navigate to="/404" />} />\n        </Routes>\n      </Router>\n    </>\n  );\n}\n\nexport default RouterConfig;\n\n')])])]),e("h2",{attrs:{id:"ğŸ’˜-06-é¡¹ç›®å¼€å‘"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸ’˜-06-é¡¹ç›®å¼€å‘"}},[t._v("#")]),t._v(" ğŸ’˜ 06-é¡¹ç›®å¼€å‘")]),t._v(" "),e("h3",{attrs:{id:"ğŸŒ›-è°ˆè°ˆä½ reacté¡¹ç›®æ€ä¹ˆå®ç°çš„"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒ›-è°ˆè°ˆä½ reacté¡¹ç›®æ€ä¹ˆå®ç°çš„"}},[t._v("#")]),t._v(" ğŸŒ› è°ˆè°ˆä½ reacté¡¹ç›®æ€ä¹ˆå®ç°çš„?")]),t._v(" "),e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),e("h3",{attrs:{id:"ğŸŒŸ-é¡¹ç›®å¦‚ä½•ä¼˜åŒ–"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ğŸŒŸ-é¡¹ç›®å¦‚ä½•ä¼˜åŒ–"}},[t._v("#")]),t._v(" ğŸŒŸ é¡¹ç›®å¦‚ä½•ä¼˜åŒ–ï¼Ÿ")]),t._v(" "),e("h1",{attrs:{id:"-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")]),t._v(" ....")])])}),[],!1,null,null,null);e.default=s.exports}}]);