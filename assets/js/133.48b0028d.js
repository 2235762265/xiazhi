(window.webpackJsonp=window.webpackJsonp||[]).push([[133],{559:function(t,s,e){"use strict";e.r(s);var a=e(2),n=Object(a.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"十一、自适应解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十一、自适应解决方案"}},[t._v("#")]),t._v(" 十一、自适应解决方案")]),t._v(" "),s("h2",{attrs:{id:"_1-自适应解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-自适应解决方案"}},[t._v("#")]),t._v(" 1.自适应解决方案")]),t._v(" "),s("h3",{attrs:{id:"_1-传统布局rem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-传统布局rem"}},[t._v("#")]),t._v(" 1.传统布局rem")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 监控页面尺寸变化重新计算REM")]),t._v("\n\tdocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("style"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fontSize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" \n\tdocument"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("documentElement"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("clientWidth "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7.5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'px'")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 750  7.5")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 640  6.4")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rem")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nwindow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("onresize "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" rem\n")])])]),s("blockquote",[s("p",[t._v("src\\main.js")])]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置全局文件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@/utils/rem.js'")]),t._v("  \n")])])]),s("h3",{attrs:{id:"_2-手淘布局-flexible-js、px2rem"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-手淘布局-flexible-js、px2rem"}},[t._v("#")]),t._v(" 2.手淘布局 => flexible.js、px2rem")]),t._v(" "),s("p",[t._v("1 下载模块")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("cnpm install amfe"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("flexible "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("S")]),t._v("\ncnpm install postcss"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pxtorem "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),s("p",[t._v("2 在main.js中引入flexible")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'amfe-flexible'")]),t._v("\n")])])]),s("p",[t._v("3.配置postcss-pxtorem")]),t._v(" "),s("blockquote",[s("p",[t._v("cli2配置方式：在.postcss.js文件中的plugins下新增postcss-pxtorem的配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"postcss-pxtorem"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rootValue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("192")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据设计图尺寸写，设计图是1920，就写192")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("propList")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要被转换的属性")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("selectorBlackList")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不进行px转换的选择器")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n复制代码\n")])])]),s("p",[t._v("cli3+配置方式：在根路径下新增postcss.config.js文件")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("module"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"plugins"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"postcss-pxtorem"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rootValue")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("75")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \t\t    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据设计图尺寸写，设计图是750，就写75")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("propList")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \t\t  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要被转换的属性")]),t._v("\n     "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("selectorBlackList")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 不进行px转换的选择器")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),t._v(" "),s("h3",{attrs:{id:"_3-流行布局-postcss-px-to-viewport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-流行布局-postcss-px-to-viewport"}},[t._v("#")]),t._v(" 3.流行布局  => postcss-px-to-viewport")]),t._v(" "),s("p",[t._v("1 下载模块")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("cnpm i postcss"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("px"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("viewport "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),s("p",[t._v("2  根目录新建postcss.config.js文件")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('module.exports = {\nplugins: {\n "postcss-px-to-viewport": {\n   // options\n   unitToConvert: "px", // 需要转换的单位\n   viewportWidth: 750, // 设计稿的视口宽度\n   unitPrecision: 5, // 单位转换后保留的精度\n   propList: ["*"], // 能转换的vw属性列表\n   viewportUnit: "vw", // 希望使用的视口单位\n   fontViewportUnit: "vw", // 字体使用的视口单位\n   selectorBlackList: [], // 需要忽略的css选择器\n   minPixelValue: 1, // 设置最小的转换数值，如果为1，只有大于1的值才会被转换\n   mediaQuery: false, // 媒体查询中是否需要转换单位\n   replace: true, // 是否直接更换属性值\n   exclude: [],\n   landscape: false,\n   landscapeUnit: "vw", // 横屏时使用的单位\n   landscapeWidth: 568, // 横屏时使用的视口宽度\n },\n},\n};\n')])])])]),t._v(" "),s("h2",{attrs:{id:"_2、项目初始化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、项目初始化"}},[t._v("#")]),t._v(" 2、项目初始化")]),t._v(" "),s("h3",{attrs:{id:"创建项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建项目"}},[t._v("#")]),t._v(" 创建项目")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("vue create qfsxcs\n")])])]),s("h3",{attrs:{id:"ui框架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ui框架"}},[t._v("#")]),t._v(" UI框架")]),t._v(" "),s("p",[t._v("https://vant-contrib.gitee.io/vant/v2/#/zh-CN/")]),t._v(" "),s("p",[t._v("1 安装：cnpm i vant@latest-v2 -S")]),t._v(" "),s("p",[t._v("2 注册：src/main.js")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 配置UI组件库\nimport Vant from "vant";\nimport "vant/lib/index.css";\nVue.use(Vant);\n')])])])]),t._v(" "),s("h3",{attrs:{id:"编辑器配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#编辑器配置"}},[t._v("#")]),t._v(" 编辑器配置")]),t._v(" "),s("p",[t._v("步骤1：安装eslint、prettier插件（注：开发框架中选择了eslint、prettier")]),t._v(" "),s("p",[t._v("步骤2：打开setting.json")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('{\n  /* 编辑器配置 */\n  "window.zoomLevel": 2, // 窗口缩放级别\n  "editor.mouseWheelZoom": true, // 是否开启编辑器字体缩放：按Ctrl键并滚动鼠标滚轮\n  "workbench.iconTheme": "simple-icons", // 个人主题配置（可忽略）\n  "workbench.colorTheme": "Dracula Soft", // 个人主题配置（可忽略）\n  "terminal.integrated.fontFamily": "Hack Nerd Font", // 个人主题配置（可忽略）\n\n  /* eslint配置 */\n  "eslint.validate": [ "vue", "javascript" ], // 声明eslint检查的文件\n  "editor.codeActionsOnSave": { "source.fixAll.eslint": true }, // 是否开启eslint自动修正 \n\n  /* prettier配置 */\n  "editor.formatOnSave": true, // 是否开启保存自动代码格式化\n  "[vue]": { \n    // 声明.vue文件采用prettier-vscode插件进行代码格式化\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  },\n  "[javascript]": { \n    // 声明.js文件采用prettier-vscode插件进行代码格式化\n    "editor.defaultFormatter": "esbenp.prettier-vscode"\n  }, \n  "prettier.tabWidth": 2,    // 缩进字节数\n  "prettier.useTabs": false, // 缩进不使用tab，使用空格\n  "prettier.semi": true,     // 句尾添加分号\n  "prettier.singleQuote": false,    // 使用单引号\n  "prettier.proseWrap": "preserve", // 默认值。因为使用了一些折行敏感型的渲染器（如GitHub comment）而按照markdown文本样式进行折行\n  "prettier.arrowParens": "always", //  (x) => {} 箭头函数参数只有一个时是否要有小括号：avoid-省略括号、always-总是有括号\n  "prettier.bracketSpacing": true,  // 在对象，数组括号与文字之间加空格 "{ foo: bar }"\n  "prettier.endOfLine": "auto",     // 结尾是 \\n \\r \\n\\r auto\n  "prettier.htmlWhitespaceSensitivity": "ignore",\n  "prettier.trailingComma": "es5", // 在对象或数组最后一个元素后面是否加逗号（在ES5中加尾逗号）\n}\n\n')])])]),s("h3",{attrs:{id:"移动端适配"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端适配"}},[t._v("#")]),t._v(" 移动端适配")]),t._v(" "),s("p",[t._v("1 下载模块")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("cnpm i postcss"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("px"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("viewport "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),s("p",[t._v("2  根目录新建postcss.config.js文件")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('module.exports = {\n plugins: {\n   "postcss-px-to-viewport": {\n     // options\n     unitToConvert: "px", // 需要转换的单位\n     viewportWidth: 750, // 设计稿的视口宽度\n     unitPrecision: 5, // 单位转换后保留的精度\n     propList: ["*"], // 能转换的vw属性列表\n     viewportUnit: "vw", // 希望使用的视口单位\n     fontViewportUnit: "vw", // 字体使用的视口单位\n     selectorBlackList: [], // 需要忽略的css选择器\n     minPixelValue: 1, // 设置最小的转换数值，如果为1，只有大于1的值才会被转换\n     mediaQuery: false, // 媒体查询中是否需要转换单位\n     replace: true, // 是否直接更换属性值\n     exclude: [],\n     landscape: false,\n     landscapeUnit: "vw", // 横屏时使用的单位\n     landscapeWidth: 568, // 横屏时使用的视口宽度\n   },\n },\n};\n')])])])]),t._v(" "),s("h3",{attrs:{id:"移动端适配-解决冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动端适配-解决冲突"}},[t._v("#")]),t._v(" 移动端适配：解决冲突")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('selectorBlackList: ["van"], // 需要忽略的css选择器\n')])])]),s("p",[t._v("重启")]),t._v(" "),s("h3",{attrs:{id:"删除无效代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除无效代码"}},[t._v("#")]),t._v(" 删除无效代码")]),t._v(" "),s("p",[t._v("步骤1：创建全局的初始化重置样式")]),t._v(" "),s("blockquote",[s("p",[t._v("src/assets/css/reset.scss")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("* {padding:0px;margin:0px;}\nhtml,body,#app { width:100%;height:100%; }\n#app {font-size: 14px;}\n")])])])]),t._v(" "),s("p",[t._v("步骤2：删除默认样式和内容")]),t._v(" "),s("blockquote",[s("p",[t._v("App.vue")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<template>\n<div id="app">\n <router-view />\n</div>\n</template>\n\n<style lang="scss">\n// 配置 全局初始化样式\n@import "assets/css/reset.scss";\n</style>\n')])])])]),t._v(" "),s("p",[t._v("步骤3：src/utils/filters.js")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// import Vue from 'vue'\n\n// 使用\n// {{变量}}\n// {{变量 | 过滤器名称}}\n// 管道前面的数据 默认是第一个形参\n")])])])]),t._v(" "),s("p",[t._v("步骤4：src/main.js")]),t._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// 配置全局文件\nimport '@/utils/filters.js'   \n")])])])]),t._v(" "),s("p",[t._v("步骤5：src/utils/request.js")]),t._v(" "),s("blockquote",[s("p",[t._v("步骤5.1：cnpm  i  axios  -S")]),t._v(" "),s("p",[t._v("步骤5.2：")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('// 一、导入模块\nimport axios from \'axios\'\n\n\n// 二、创建axios实例\nconst request = axios.create({\n// baseURL: "/api",\n// .env 全局默认配置文件，不论什么环境都会加载合并\n// .env.development 开发环境下的配置文件\n// .env.production 生产环境下的配置文件\nbaseURL: process.env.VUE_APP_URL,\nheaders: {\n"content-type": "application/x-www-form-urlencoded",\n},\ntimeout: 8000,\n});\n\n\n// 三、请求拦截器、响应拦截器\nrequest.interceptors.request.use(\n\t(config) => {\n\t \t\treturn config\n\t}, \n\t(error) => {\n\t\t\treturn Promise.reject(error)\n\t}\n)\n\nrequest.interceptors.response.use(\n(response) => {\n\t\treturn response\n}, \n(error) => {\n\treturn Promise.reject(error)\n}\n)\n\n// 三、导出模块\nexport default request\n')])])])]),t._v(" "),s("p",[t._v("步骤6：在项目根目录下创建.env、.env.development、.env.production文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("VUE_APP_URL='/api'\n\n属性名必须以VUE_APP_开头，比如VUE_APP_XXX\n")])])]),s("h2",{attrs:{id:"_3-布局-骨架屏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-布局-骨架屏"}},[t._v("#")]),t._v(" 3.布局-骨架屏")]),t._v(" "),s("h3",{attrs:{id:"简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#简介"}},[t._v("#")]),t._v(" 简介")]),t._v(" "),s("p",[t._v("https://github.com/ElemeFE/page-skeleton-webpack-plugin")]),t._v(" "),s("p",[t._v("page-skeleton-webpack-plugin")]),t._v(" "),s("blockquote",[s("p",[t._v("Page Skeleton 是一款 webpack 插件，该插件的目的是根据你项目中不同的路由页面生成相应的骨架屏页面，并将骨架屏页面通过 webpack 打包到对应的静态路由页面中。")]),t._v(" "),s("ul",[s("li",[t._v("支持多种加载动画")]),t._v(" "),s("li",[t._v("针对移动端 web 页面")]),t._v(" "),s("li",[t._v("支持多路由")]),t._v(" "),s("li",[t._v("可定制化，可以通过配置项对骨架块形状颜色进行配置，同时也可以在预览页面直接修改骨架页面源码")]),t._v(" "),s("li",[t._v("几乎可以零配置使用")])])]),t._v(" "),s("h3",{attrs:{id:"使用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用"}},[t._v("#")]),t._v(" 使用")]),t._v(" "),s("h4",{attrs:{id:"_1-安装模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装模块"}},[t._v("#")]),t._v(" 1. 安装模块")]),t._v(" "),s("blockquote",[s("p",[t._v("cnpm install --save-dev page-skeleton-webpack-plugin")])]),t._v(" "),s("h4",{attrs:{id:"_2-修改vue-config-js文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改vue-config-js文件"}},[t._v("#")]),t._v(" 2. 修改vue.config.js文件")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('const { SkeletonPlugin } = require("page-skeleton-webpack-plugin");\nconst path = require("path");\n\nmodule.exports = {\n  configureWebpack: {\n    plugins: [\n      new SkeletonPlugin({\n        pathname: path.resolve(__dirname, "./shell"), // 用来存储 shell 文件的地址\n        staticDir: path.resolve(__dirname, "./dist"), // 最好和 `output.path` 相同\n        routes: ["/", "/about"], // 将需要生成骨架屏的路由添加到数组中\n      }),\n    ],\n  },\n  chainWebpack: (config) => {\n    // 解决vue-cli3脚手架创建的项目压缩html 干掉\x3c!-- shell --\x3e导致骨架屏不生效\n    if (process.env.NODE_ENV !== "development") {\n      config.plugin("html").tap((opts) => {\n        opts[0].minify.removeComments = false;\n        return opts;\n      });\n    }\n  },\n};\n\n')])])]),s("p",[t._v("步骤3：修改public/index.html")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('<!DOCTYPE html>\n<html lang="">\n  <head>\n    <meta charset="utf-8">\n    <meta http-equiv="X-UA-Compatible" content="IE=edge">\n    <meta name="viewport" content="width=device-width,initial-scale=1.0">\n    <link rel="icon" href="<%= BASE_URL %>favicon.ico">\n    <title><%= htmlWebpackPlugin.options.title %></title>\n    <link rel="stylesheet" href="//at.alicdn.com/t/font_3220276_3nhh843cj5l.css">\n  </head>\n  <body>\n    <noscript>\n      <strong>We\'re sorry but <%= htmlWebpackPlugin.options.title %> doesn\'t work properly without JavaScript enabled. Please enable it to continue.</strong>\n    </noscript>\n    <div id="app">\n      \x3c!-- shell --\x3e\n    </div>\n    \x3c!-- built files will be auto injected --\x3e\n  </body>\n</html>\n\n')])])]),s("h4",{attrs:{id:"_3-运行骨架屏项目"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-运行骨架屏项目"}},[t._v("#")]),t._v(" 3. 运行骨架屏项目")]),t._v(" "),s("p",[t._v("cnpm run serve 运行项目")]),t._v(" "),s("blockquote",[s("p",[t._v("不报错不管，如果报错 EADDRINUSE: address already in use :::8989 则走下述步骤")]),t._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("// node_modules/page-skeleton-webpack-plugin/src/skeletonPlugin.js\nif (!this.server) {\nconst server = this.server = new Server(this.options) // eslint-disable-line no-multi-assign\nserver.listen().catch(err => server.log.warn(err))\n}\n")])])])]),t._v(" "),s("p",[t._v("在浏览器打开页面，通过 Ctrl|Cmd + enter 呼出插件交互界面，")]),t._v(" "),s("p",[t._v("或者在在浏览器的 JavaScript 控制台内输入toggleBar 呼出交互界面。")]),t._v(" "),s("p",[t._v("点击会生成骨架屏，保存在项目中的shell目录下")]),t._v(" "),s("h4",{attrs:{id:"_4-验证骨架屏效果"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-验证骨架屏效果"}},[t._v("#")]),t._v(" 4. 验证骨架屏效果")]),t._v(" "),s("p",[t._v("cnpm run build")]),t._v(" "),s("p",[t._v("然后通过vscode单独打开dist目录  慢网速测试")])])}),[],!1,null,null,null);s.default=n.exports}}]);