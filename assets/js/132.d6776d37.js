(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{558:function(e,s,n){"use strict";n.r(s);var a=n(2),t=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"十、webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#十、webpack"}},[e._v("#")]),e._v(" 十、webpack")]),e._v(" "),s("h2",{attrs:{id:"铺垫"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#铺垫"}},[e._v("#")]),e._v(" 铺垫")]),e._v(" "),s("h3",{attrs:{id:"_1、gzip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、gzip"}},[e._v("#")]),e._v(" 1、GZIP")]),e._v(" "),s("p",[e._v("压缩响应数据，加快传输速度")]),e._v(" "),s("p",[e._v("配置：打开nginx的配置文件，在server中增加上述代码并重启即可")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('server\n{\n    listen 9999;\n    server_name 180.76.176.125;\n    index index.html;\n    root /www/test1;\n    # location /api/ {\n    #     proxy_pass http://kg.zhaodashen.cn/mt/admin/;\n    # }\n    # location / {\n    #     try_files $uri $uri/ /index.html;\n    # }\n    \n    gzip on;\t\t\t     #开启Gzip压缩\n    gzip_min_length 1k;\t #不压缩临界值，大于1K的才压缩\n    gzip_comp_level 6;   #压缩级别（1-9）越大越慢，同时也最消耗CPU\n    #声明压缩文件（MIME类型）\n    gzip_types text/plain application/x-javascript text/css application/xml text/javascript image/jpeg;\n    gzip_disable "MSIE [1-6]\\."; #禁用IE1-6\n}\n')])])]),s("h3",{attrs:{id:"_3、expires"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、expires"}},[e._v("#")]),e._v(" 3、expires")]),e._v(" "),s("p",[e._v("作用：设置expires减少不必要的http请求")]),e._v(" "),s("p",[e._v("场景：将静态资源（css、js、图片）等缓存到客户端，减轻服务区压力")]),e._v(" "),s("p",[e._v("首先：f12  查看修改js文件实时生效")]),e._v(" "),s("p",[e._v("接着：配置服务器")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("location ~ \\.(gif|jpg|jpeg|png|bmp|ico|js|css)$ {\n    expires 1d;  #1d （天）  1h（时）  1m（分）  1s（秒）\n}\n")])])]),s("h2",{attrs:{id:"一、webpack简介"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、webpack简介"}},[e._v("#")]),e._v(" 一、webpack简介")]),e._v(" "),s("h3",{attrs:{id:"_1-什么是webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是webpack"}},[e._v("#")]),e._v(" 1.什么是webpack")]),e._v(" "),s("p",[e._v("前端静态"),s("strong",[e._v("模块")]),e._v("打包工具")]),e._v(" "),s("blockquote",[s("p",[e._v("前端：就是你")]),e._v(" "),s("p",[e._v("静态：就是css、js、img等等")]),e._v(" "),s("p",[e._v("模块：就是支持导入导出   （注：gulp并没有强调这一点  gulp强调的是定义一个个任务去处理  没有模块化思想")]),e._v(" "),s("p",[e._v("打包工具：压缩代码合并代码的软件")])]),e._v(" "),s("h3",{attrs:{id:"_2-为啥学"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-为啥学"}},[e._v("#")]),e._v(" 2.为啥学")]),e._v(" "),s("p",[e._v("1、减少开发者工作量")]),e._v(" "),s("blockquote",[s("p",[e._v("之前通过 前端自动化构建工具  就可以压缩代码体积")])]),e._v(" "),s("p",[e._v("2、加快网站访问速度")]),e._v(" "),s("blockquote",[s("p",[e._v("可以变向解决首屏加载过慢的问题")])]),e._v(" "),s("p",[e._v("3、避免缓存BUG")]),e._v(" "),s("blockquote",[s("p",[e._v("xxx.js?v=1.0    xxx.js?v=2.0       xxx.随机.js")])]),e._v(" "),s("h3",{attrs:{id:"_3-能干吗"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-能干吗"}},[e._v("#")]),e._v(" 3.能干吗")]),e._v(" "),s("p",[e._v("打包：将多个JS文件打包成一个文件（1-减少HTTP请求、2-压缩去空格去注释减轻服务器压力")]),e._v(" "),s("p",[e._v("转换：把扩展语法转换为普通的JS  让浏览器能够正常运行")]),e._v(" "),s("p",[e._v("优化：1-复杂的开发流程 模块化、2-性能问题 去空格 去注释 减少HTTP请求  等等")]),e._v(" "),s("h3",{attrs:{id:"_4-下载webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-下载webpack"}},[e._v("#")]),e._v(" 4.下载webpack")]),e._v(" "),s("p",[e._v("cnpm i webpack@5.70.0 webpack-cli@4.9.2  -D")]),e._v(" "),s("h2",{attrs:{id:"二、webpack-plugin配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、webpack-plugin配置"}},[e._v("#")]),e._v(" 二、webpack：plugin配置")]),e._v(" "),s("p",[e._v("loader概念："),s("strong",[e._v("处理非js代码")])]),e._v(" "),s("p",[e._v("plugin概念："),s("strong",[e._v("让webpack变的更强")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("运行在整个项目的编译时期\nplugin插件：赋予了webpack各种灵活的功能，如打包优化，资源管理，环境变量，注入等，目的是为了解决loader无法实现的功能。\n\n运行在项目打包之前\nloader：是文件加载器，能够加载资源文件，并对文件进行一些处理，如编译，压缩 等，最终一起打包到指定的文件中。\n")])])]),s("h3",{attrs:{id:"练习"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#练习"}},[e._v("#")]),e._v(" 练习")]),e._v(" "),s("p",[e._v("步骤1：安装")]),e._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i html-webpack-plugin -D\n")])])])]),e._v(" "),s("p",[e._v("步骤2：创建public目录\\index.html文件")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n <meta charset="UTF-8">\n <meta name="viewport" content="width=device-width, initial-scale=1.0">\n <meta http-equiv="X-UA-Compatible" content="ie=edge">\n \x3c!-- <title>仿写vue脚手架学习</title> --\x3e\n <title><%= htmlWebpackPlugin.options.title %></title>\n</head>\n<body>\n <div id="root"></div>\n</body>\n</html>\n')])])]),s("p",[e._v("步骤3：根据手册修改vue.config.js文件")]),e._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 导入模块\nconst path = require("path");\nconst { VueLoaderPlugin } = require("vue-loader");\nconst HtmlWebpackPlugin = require("html-webpack-plugin");\n\n// 导出配置\nmodule.exports = {\n// 入口\nentry: "./src/main.js",\n// 出口\noutput: {\n path: path.resolve(__dirname, "dist"),\n filename: "js/[name].[chunkhash:7].js",\n},\n// 运行在整个项目的编译时期\n// plugin插件：赋予了webpack各种灵活的功能，如打包优化，资源管理，环境变量，注入等，目的是为了解决loader无法实现的功能。\nplugins: [\n new VueLoaderPlugin(),\n //说明：功能让webpack变得更强\n //作用：给public/index.html自动引入打包后的js等文件\n //new HtmlWebpackPlugin()\n new HtmlWebpackPlugin({\n   // 自定义变量\n   title: "仿写vue脚手架学习 - 神龙教",\n   desc: "神龙教主、洪福齐天、寿与天齐",\n   // 输出到dist下面的名称、默认index.html\n   filename: "index.html",\n   // 模板文件\n   template: "public/index.html",\n }),\n // ...\n],\n// 运行在项目打包之前\n// loader：是文件加载器，能够加载资源文件，并对文件进行一些处理，如编译，压缩 等，最终一起打包到指定的文件中。\nmodule: {\n rules: [\n   {\n     test: /\\.vue$/,\n     loader: "vue-loader",\n   },\n   // ...\n ],\n},\n};\n\n')])])])]),e._v(" "),s("p",[e._v("步骤4：测试 重新build")]),e._v(" "),s("h3",{attrs:{id:"mini-css-extract-plugin插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mini-css-extract-plugin插件"}},[e._v("#")]),e._v(" mini-css-extract-plugin插件")]),e._v(" "),s("p",[e._v("步骤1：安装模块")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i mini-css-extract-plugin -D\n")])])]),s("p",[e._v("步骤2：修改vue.config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('...\nconst MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\n...\n  module: {\n    rules: [\n      // 处理vue文件\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // 处理css文件：单独打包存放css文件\n      {\n        test: /\\.css$/i,\n        // use: ["style-loader", "css-loader"],\n        use: [MiniCssExtractPlugin.loader, "css-loader"],\n      },\n\t\t\t// ...\n    ],\n  },\n...\n')])])]),s("h2",{attrs:{id:"三、webpack-loaders-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、webpack-loaders-配置"}},[e._v("#")]),e._v(" 三、webpack：loaders 配置")]),e._v(" "),s("h3",{attrs:{id:"_1-css-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-css-loader"}},[e._v("#")]),e._v(" 1.css-loader")]),e._v(" "),s("p",[e._v("安装")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i style-loader@2.0.0 css-loader@5.2.4 -D\n")])])]),s("p",[e._v("配置vue.config.js")]),e._v(" "),s("p",[e._v("在"),s("code",[e._v("module")]),e._v("中"),s("code",[e._v("rules")]),e._v("添加相应配置")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('  module: {\n    rules: [\n      // 处理vue文件\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // 处理css文件\n      {\n        test: /\\.css$/i,\n        use: ["style-loader", "css-loader"],\n      },\n\t\t\t// ...\n    ],\n  },\n};\n\n')])])]),s("h3",{attrs:{id:"_2-sass-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-sass-loader"}},[e._v("#")]),e._v(" 2.sass-loader")]),e._v(" "),s("p",[e._v("1.安装")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i sass sass-loader dart-sass -D\n")])])]),s("p",[e._v("2.配置")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module: {\nrules: [\n     \t // ....\n       // 处理scss文件\n       {\n         test: /\\.s[ac]ss$/i,\n         // use: ['style-loader', 'css-loader', 'sass-loader',],\n         use: [MiniCssExtractPlugin.loader, \"css-loader\", \"sass-loader\"],\n       },\n     // ....\n],\n},\n")])])]),s("h3",{attrs:{id:"_3-file-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-file-loader"}},[e._v("#")]),e._v(" 3.file-loader")]),e._v(" "),s("p",[e._v("安装模块")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i file-loader -D\n")])])]),s("p",[e._v("修改webapck.config.js配置文件")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// 处理图片文件\n{\n  test: /\\.(png|jpe?g|gif)$/i,\n  loader: 'file-loader',\n  options: {\n    name: 'imgs/[name].[ext]',\n    publicPath: '/',\n  },\n},\n// ...\n")])])]),s("h3",{attrs:{id:"_4-url-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-url-loader"}},[e._v("#")]),e._v(" 4.url-loader")]),e._v(" "),s("ul",[s("li",[e._v("步骤1：安装模块 -> 配置")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i url-loader -D\n")])])]),s("ul",[s("li",[e._v("步骤2：修改webpack.config.js配置文件")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 处理图片文件\n// {\n//   test: /\\.(png|jpe?g|gif)$/i,\n//   loader: "file-loader",\n//   options: {\n//     name: "imgs/[name].[ext]",\n//     publicPath: "/",\n//   },\n// },\n{\n  test: /\\.(png|jpg|gif)$/i,\n  use: [\n    {\n      loader: "url-loader",\n      options: {\n        limit: 1024 * 1024 * 1, // 1M   图片超过指定字节不编码\n        name: "imgs/[name].[ext]",\n        publicPath: "/",\n      },\n    },\n  ],\n},\n// ...\n')])])]),s("blockquote",[s("p",[e._v("多学一招：")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("问：什么是字节\n答：计算机计量单位，类似生活中的克、千克等\n----------------------------------------\n问：还是不理解\n答：你的硬盘用了多少   1G  10G\n----------------------------------------\n问：这个多少G跟我们的字节有什么关系呢\n公式\n\n// 字节是计算机中的一种计量单位，表示数据量的多少 \n// 1字节（Byte）= 8位（bit）\n// 1KB = 1024Byte（字节）    \n// 1M  = 1024KB\n// 1G  = 1024M\n")])])])]),e._v(" "),s("h3",{attrs:{id:"_5-babel-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-babel-loader"}},[e._v("#")]),e._v(" 5.babel-loader")]),e._v(" "),s("p",[e._v("安装babel-loader")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i babel-loader @babel/core @babel/preset-env @babel/plugin-transform-runtime -D\n")])])]),s("p",[e._v("配置")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 处理逻辑文件\n{\n  test: /\\.m?js$/,\n  exclude: /(node_modules|bower_components)/,\n  use: {\n    loader: "babel-loader",\n    options: {\n      presets: ["@babel/preset-env"],\n      plugins: ["@babel/plugin-transform-runtime"]\n    },\n  },\n},\n// ...\n')])])]),s("h2",{attrs:{id:"五、创建自己的脚手架"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、创建自己的脚手架"}},[e._v("#")]),e._v(" 五、创建自己的脚手架")]),e._v(" "),s("p",[e._v("步骤1：创建【04-快速复习】目录")]),e._v(" "),s("p",[e._v("步骤2：初始化目录结构")]),e._v(" "),s("blockquote",[s("h3",{attrs:{id:"public-index-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#public-index-html"}},[e._v("#")]),e._v(" public/index.html")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n <meta charset="UTF-8">\n <meta name="viewport" content="width=device-width, initial-scale=1.0">\n <meta http-equiv="X-UA-Compatible" content="ie=edge">\n \x3c!-- <title>仿写vue脚手架学习</title> --\x3e\n <title>\n     <%= htmlWebpackPlugin.options.title %>\n </title>\n</head>\n<body>\n <div id="root"></div>\n</body>\n</html>\n')])])]),s("h3",{attrs:{id:"src-assets-css-reset-scss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-css-reset-scss"}},[e._v("#")]),e._v(" src/assets/css/reset.scss")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("* {padding:0;margin:0}\n\nh1 {font-size:30px;color:green;}\n")])])]),s("h3",{attrs:{id:"src-assets-imgs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-imgs"}},[e._v("#")]),e._v(" src/assets/imgs")]),e._v(" "),s("h3",{attrs:{id:"src-assets-js-qf-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-js-qf-js"}},[e._v("#")]),e._v(" src/assets/js/qf.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('console.log("src/assets/js/qf.js");\n')])])]),s("h3",{attrs:{id:"src-router-index-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-router-index-js"}},[e._v("#")]),e._v(" src/router/index.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('import Vue from "vue";\nimport VueRouter from "vue-router";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: "/qf",\n    component: () => import("@/views/Qf.vue"),\n  },\n];\n\nexport default new VueRouter({\n  mode: "hash",\n  routes,\n});\n')])])]),s("h3",{attrs:{id:"src-utils-request-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-utils-request-js"}},[e._v("#")]),e._v(" src/utils/request.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 后期：axios代码\n// 现在\n\nasync function sayBy() {\n  //   const result = await fetch("https://www.baidu.com/sugrec?prod=pc&wd=html");\n  const result = await fetch("/sugrec?prod=pc&wd=html");\n  console.log(result.json());\n}\n')])])]),s("h3",{attrs:{id:"src-views-qf-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-views-qf-vue"}},[e._v("#")]),e._v(" src/views/Qf.vue")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<template>\n  <h1>欢迎来到千锋教育 - 学前端还得认准扛把子！！！</h1>\n</template>\n\n<script>\nimport "@/utils/request.js";\n\nexport default {};\n<\/script>\n\n<style></style>\n')])])]),s("h3",{attrs:{id:"src-app-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-app-vue"}},[e._v("#")]),e._v(" src/App.vue")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("<template>\n  <div>\n    <h1>h5@qf hello</h1>\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {};\n<\/script>\n\n<style></style>\n")])])]),s("h3",{attrs:{id:"src-main-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-main-js"}},[e._v("#")]),e._v(" src/main.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// console.log(666)\n\n// 导入vue模块\nimport Vue from "vue";\nimport router from "./router";\n\n// 导入单文件组件\nimport App from "./App.vue";\n\n// 导入全局配置\nimport "./assets/css/reset.scss";\n\n// 创建实例\nnew Vue({\n  // el: \'#root\',\n  router,\n  render: (h) => h(App),\n}).$mount("#root");\n')])])])]),e._v(" "),s("p",[e._v("步骤3：下载项目所需依赖")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm init -y\n\ncnpm i vue@2.6.14 vue-router@3.5.1 -S\n\ncnpm i @babel/core@7.17.7 @babel/plugin-transform-runtime@7.17.0 @babel/preset-env@7.16.11 babel-loader@8.2.3 css-loader@5.2.4 dart-sass@1.25.0 file-loader@6.2.0 html-webpack-plugin@5.5.0 mini-css-extract-plugin@2.6.0 sass@1.49.9 sass-loader@12.6.0 style-loader@2.0.0 url-loader@4.1.1 vue-loader@15.9.2 vue-template-compiler@2.6.14 webpack@5.70.0 webpack-cli@3.3.12 webpack-dev-server@3.11.2 -D\n")])])]),s("p",[e._v("步骤4： 创建配置文件 vue.config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// 导入模块\nconst path = require("path");\nconst resolve = (dir) => path.resolve(__dirname, dir);\nconst { VueLoaderPlugin } = require("vue-loader");\nconst HtmlWebpackPlugin = require("html-webpack-plugin");\nconst MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\n// 导出配置\nmodule.exports = {\n  resolve: {\n    // 设置别名\n    alias: {\n      "@": resolve("src"), // 这样配置后 @ 可以指向 src 目录\n    },\n  },\n  // 开发服务器配置\n  devServer: {\n    open: true, // cnpm run dev 之后自动打开浏览器\n    port: 8081, // 默认端口\n    proxy: {\n      // 任意名称: {\n      //   target: "真实请求网址",\n      //   changeOrigin: true, // 是否允许跨域\n      //   secure: false, // 关闭SSL证书验证https协议接口需要改成true\n      //   pathRewrite: {\n      //     // 重写路径请求\n      //     "^/任意名称": "", //路径重写\n      //   },\n      // },\n      "/api": {\n        target: "https://www.baidu.com",\n        changeOrigin: true, // 是否允许跨域\n        secure: false, // 关闭SSL证书验证https协议接口需要改成true\n        pathRewrite: {\n          // 重写路径请求\n          "^/api": "", //路径重写\n        },\n      },\n      // ....\n    },\n  },\n  // 入口\n  entry: "./src/main.js",\n  // 出口\n  output: {\n    path: path.resolve(__dirname, "dist"),\n    filename: "js/[name].[chunkhash:7].js",\n  },\n  // 运行在整个项目的编译时期\n  // plugin插件：赋予了webpack各种灵活的功能，如打包优化，资源管理，环境变量，注入等，目的是为了解决loader无法实现的功能。\n  plugins: [\n    new VueLoaderPlugin(),\n    //说明：功能让webpack变得更强\n    //作用：给public/index.js自动引入打包后的js等文件\n    //new HtmlWebpackPlugin()\n    new HtmlWebpackPlugin({\n      // 自定义变量\n      title: "仿写vue脚手架学习 - 神龙教",\n      desc: "神龙教主、洪福齐天、寿与天齐",\n      // 输出到dist下面的名称、默认index.html\n      filename: "index.html",\n      // 模板文件\n      template: "public/index.html",\n    }),\n    //说明：功能让webpack变得更强\n    //作用：CSS单独文件存放\n    new MiniCssExtractPlugin({\n      filename: "css/[name].css",\n    }),\n    // ...\n  ],\n  // 运行在项目打包之前\n  // loader：是文件加载器，能够加载资源文件，并对文件进行一些处理，如编译，压缩 等，最终一起打包到指定的文件中。\n  module: {\n    rules: [\n      // 处理vue文件\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // 处理css文件：单独打包存放css文件\n      {\n        test: /\\.css$/i,\n        // use: ["style-loader", "css-loader"],\n        use: [MiniCssExtractPlugin.loader, "css-loader"],\n      },\n      // 处理scss文件\n      {\n        test: /\\.s[ac]ss$/i,\n        // use: [\'style-loader\', \'css-loader\', \'sass-loader\',],\n        use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"],\n      },\n      // 处理图片文件\n      // {\n      //   test: /\\.(png|jpe?g|gif)$/i,\n      //   loader: "file-loader",\n      //   options: {\n      //     name: "imgs/[name].[ext]",\n      //     publicPath: "/",\n      //   },\n      // },\n      {\n        test: /\\.(png|jpg|gif)$/i,\n        use: [\n          {\n            loader: "url-loader",\n            options: {\n              limit: 1024 * 1024 * 1, // 1M   图片超过指定字节不编码\n              name: "imgs/[name].[ext]",\n              publicPath: "/",\n            },\n          },\n        ],\n      },\n      // 处理逻辑文件\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: "babel-loader",\n          options: {\n            presets: ["@babel/preset-env"],\n            plugins: ["@babel/plugin-transform-runtime"],\n          },\n        },\n      },\n      // ...\n    ],\n  },\n};\n')])])]),s("p",[e._v("步骤5：修改package.json")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('"build": "webpack --mode=production --config ./vue.config.js",\n"serve": "webpack-dev-server --mode=development --config ./vue.config.js",\n')])])]),s("p",[e._v("步骤6：启动测试")]),e._v(" "),s("h2",{attrs:{id:"发布"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#发布"}},[e._v("#")]),e._v(" 发布")]),e._v(" "),s("ul",[s("li",[e._v("步骤1：创建temp目录")]),e._v(" "),s("li",[e._v("步骤2：将【04-快速复习】删掉【node_modules】目录，然后【复制】到【temp】目录，改成【example】")]),e._v(" "),s("li",[e._v("步骤3：进入目录，生成package.json文件（改模块名、版本、删掉main改成bin如下")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n  "name": "webopenfather-myvue-cli",\n  "version": "1.0.0",\n  "description": "webopenfather my vue generator",\n  "bin": {\n    "myvue-cli": "./bin/myvue-cli.js"\n  },\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": ["myvue", "vue", "vue-cli"],\n  "author": "webopenfather",\n  "license": "ISC"\n}\n\n')])])]),s("ul",[s("li",[e._v("步骤4：创建temp\\bin\\myvue-cli.js")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('#!/usr/bin/env node\n"use strict";\n\n// 字体颜色 https://bj.96weixin.com/emoji/\nconst styles = {\n  bold: "\\x1B[1m%s\\x1B[22m",\n  italic: "\\x1B[3m%s\\x1B[23m",\n  underline: "\\x1B[4m%s\\x1B[24m",\n  inverse: "\\x1B[7m%s\\x1B[27m",\n  strikethrough: "\\x1B[9m%s\\x1B[29m",\n  white: "\\x1B[37m%s\\x1B[39m",\n  grey: "\\x1B[90m%s\\x1B[39m",\n  black: "\\x1B[30m%s\\x1B[39m",\n  blue: "\\x1B[34m%s\\x1B[39m",\n  cyan: "\\x1B[36m%s\\x1B[39m",\n  green: "\\x1B[32m%s\\x1B[39m",\n  magenta: "\\x1B[35m%s\\x1B[39m",\n  red: "\\x1B[31m%s\\x1B[39m",\n  yellow: "\\x1B[33m%s\\x1B[39m",\n  whiteBG: "\\x1B[47m%s\\x1B[49m",\n  greyBG: "\\x1B[49;5;8m%s\\x1B[49m",\n  blackBG: "\\x1B[40m%s\\x1B[49m",\n  blueBG: "\\x1B[44m%s\\x1B[49m",\n  cyanBG: "\\x1B[46m%s\\x1B[49m",\n  greenBG: "\\x1B[42m%s\\x1B[49m",\n  magentaBG: "\\x1B[45m%s\\x1B[49m",\n  redBG: "\\x1B[41m%s\\x1B[49m",\n  yellowBG: "\\x1B[43m%s\\x1B[49m",\n};\n\n// 导入模块\nconst fs = require("fs");\nconst path = require("path");\n\n// 获取控制台参数\nlet argv = process.argv;\nlet dirname = argv[2];\n\n// 拷贝文件\nif (dirname) {\n  copyFile(path.dirname(__dirname) + `/example`, `${process.cwd()}/${dirname}`);\n  console.log(styles["green"], `\\n😎😎😎 $ cd ${dirname}`);\n  console.log(styles["green"], `😎😎😎 $ cnpm i`);\n  console.log(styles["green"], `😎😎😎 $ cnpm run serve \\n`);\n} else {\n  console.log(styles["red"], "\\n❌语法错误，请输入项目名 👀👀👀 \\n");\n}\n\n/**\n * 检查文件是否存在\n * @param {string} path 路径\n */\nfunction isExist(path) {\n  if (!fs.existsSync(path)) {\n    fs.mkdirSync(path);\n  }\n}\n\n/**\n * 拷贝文件\n * @param {string} sourcePath 路径\n * @param {string} targetPath 路径\n */\nfunction copyFile(sourcePath, targetPath) {\n  isExist(targetPath);\n\n  const sourceFile = fs.readdirSync(sourcePath, { withFileTypes: true });\n\n  sourceFile.forEach((file) => {\n    const newSourcePath = path.resolve(sourcePath, file.name);\n    const newTargetPath = path.resolve(targetPath, file.name);\n    if (file.isDirectory()) {\n      isExist(newTargetPath);\n      copyFile(newSourcePath, newTargetPath);\n    } else {\n      fs.copyFileSync(newSourcePath, newTargetPath);\n    }\n  });\n}\n\n')])])]),s("p",[e._v("步骤5：README.md")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# webopenfather-myvue-cli\n\n[![Build Status][travis-url]][travis-url]\n[![MIT License][license-url]][license-url]\n[![NPM downloads][npm-downloads-image]][npm-downloads-url]\n\n# ⬇️ Install\n\n> cnpm i webopenfather-myvue-cli -g\n\n# 🎨 Usage\n\n> 步骤 1： myvue-cli 项目名\n\n> 步骤 2：根据提示进入目录下载模块启动测试\n\n[travis-url]: https://img.shields.io/badge/build-passing-brightgreen\n[license-url]: https://img.shields.io/badge/license-MIT-informational\n[npm-downloads-image]: https://img.shields.io/badge/downloads-67M%2Fmonth-brightgreen\n[npm-downloads-url]: https://npmcharts.com/compare/webopenfather-date?minimal=true\n\n# 🔒 License\n\nSee the LICENSE file for license rights and limitations (ISC).\n\n")])])]),s("p",[e._v("步骤6：通过npm发布")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm config set registry https://registry.npmjs.org/\nnpm login\nnpm publish\n")])])])])}),[],!1,null,null,null);s.default=t.exports}}]);