(window.webpackJsonp=window.webpackJsonp||[]).push([[132],{558:function(e,s,n){"use strict";n.r(s);var a=n(2),t=Object(a.a)({},(function(){var e=this,s=e._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"åã€webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#åã€webpack"}},[e._v("#")]),e._v(" åã€webpack")]),e._v(" "),s("h2",{attrs:{id:"é“ºå«"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#é“ºå«"}},[e._v("#")]),e._v(" é“ºå«")]),e._v(" "),s("h3",{attrs:{id:"_1ã€gzip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1ã€gzip"}},[e._v("#")]),e._v(" 1ã€GZIP")]),e._v(" "),s("p",[e._v("å‹ç¼©å“åº”æ•°æ®ï¼ŒåŠ å¿«ä¼ è¾“é€Ÿåº¦")]),e._v(" "),s("p",[e._v("é…ç½®ï¼šæ‰“å¼€nginxçš„é…ç½®æ–‡ä»¶ï¼Œåœ¨serverä¸­å¢åŠ ä¸Šè¿°ä»£ç å¹¶é‡å¯å³å¯")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('server\n{\n    listen 9999;\n    server_name 180.76.176.125;\n    index index.html;\n    root /www/test1;\n    # location /api/ {\n    #     proxy_pass http://kg.zhaodashen.cn/mt/admin/;\n    # }\n    # location / {\n    #     try_files $uri $uri/ /index.html;\n    # }\n    \n    gzip on;\t\t\t     #å¼€å¯Gzipå‹ç¼©\n    gzip_min_length 1k;\t #ä¸å‹ç¼©ä¸´ç•Œå€¼ï¼Œå¤§äº1Kçš„æ‰å‹ç¼©\n    gzip_comp_level 6;   #å‹ç¼©çº§åˆ«ï¼ˆ1-9ï¼‰è¶Šå¤§è¶Šæ…¢ï¼ŒåŒæ—¶ä¹Ÿæœ€æ¶ˆè€—CPU\n    #å£°æ˜å‹ç¼©æ–‡ä»¶ï¼ˆMIMEç±»å‹ï¼‰\n    gzip_types text/plain application/x-javascript text/css application/xml text/javascript image/jpeg;\n    gzip_disable "MSIE [1-6]\\."; #ç¦ç”¨IE1-6\n}\n')])])]),s("h3",{attrs:{id:"_3ã€expires"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3ã€expires"}},[e._v("#")]),e._v(" 3ã€expires")]),e._v(" "),s("p",[e._v("ä½œç”¨ï¼šè®¾ç½®expireså‡å°‘ä¸å¿…è¦çš„httpè¯·æ±‚")]),e._v(" "),s("p",[e._v("åœºæ™¯ï¼šå°†é™æ€èµ„æºï¼ˆcssã€jsã€å›¾ç‰‡ï¼‰ç­‰ç¼“å­˜åˆ°å®¢æˆ·ç«¯ï¼Œå‡è½»æœåŠ¡åŒºå‹åŠ›")]),e._v(" "),s("p",[e._v("é¦–å…ˆï¼šf12  æŸ¥çœ‹ä¿®æ”¹jsæ–‡ä»¶å®æ—¶ç”Ÿæ•ˆ")]),e._v(" "),s("p",[e._v("æ¥ç€ï¼šé…ç½®æœåŠ¡å™¨")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("location ~ \\.(gif|jpg|jpeg|png|bmp|ico|js|css)$ {\n    expires 1d;  #1d ï¼ˆå¤©ï¼‰  1hï¼ˆæ—¶ï¼‰  1mï¼ˆåˆ†ï¼‰  1sï¼ˆç§’ï¼‰\n}\n")])])]),s("h2",{attrs:{id:"ä¸€ã€webpackç®€ä»‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€webpackç®€ä»‹"}},[e._v("#")]),e._v(" ä¸€ã€webpackç®€ä»‹")]),e._v(" "),s("h3",{attrs:{id:"_1-ä»€ä¹ˆæ˜¯webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-ä»€ä¹ˆæ˜¯webpack"}},[e._v("#")]),e._v(" 1.ä»€ä¹ˆæ˜¯webpack")]),e._v(" "),s("p",[e._v("å‰ç«¯é™æ€"),s("strong",[e._v("æ¨¡å—")]),e._v("æ‰“åŒ…å·¥å…·")]),e._v(" "),s("blockquote",[s("p",[e._v("å‰ç«¯ï¼šå°±æ˜¯ä½ ")]),e._v(" "),s("p",[e._v("é™æ€ï¼šå°±æ˜¯cssã€jsã€imgç­‰ç­‰")]),e._v(" "),s("p",[e._v("æ¨¡å—ï¼šå°±æ˜¯æ”¯æŒå¯¼å…¥å¯¼å‡º   ï¼ˆæ³¨ï¼šgulpå¹¶æ²¡æœ‰å¼ºè°ƒè¿™ä¸€ç‚¹  gulpå¼ºè°ƒçš„æ˜¯å®šä¹‰ä¸€ä¸ªä¸ªä»»åŠ¡å»å¤„ç†  æ²¡æœ‰æ¨¡å—åŒ–æ€æƒ³")]),e._v(" "),s("p",[e._v("æ‰“åŒ…å·¥å…·ï¼šå‹ç¼©ä»£ç åˆå¹¶ä»£ç çš„è½¯ä»¶")])]),e._v(" "),s("h3",{attrs:{id:"_2-ä¸ºå•¥å­¦"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-ä¸ºå•¥å­¦"}},[e._v("#")]),e._v(" 2.ä¸ºå•¥å­¦")]),e._v(" "),s("p",[e._v("1ã€å‡å°‘å¼€å‘è€…å·¥ä½œé‡")]),e._v(" "),s("blockquote",[s("p",[e._v("ä¹‹å‰é€šè¿‡ å‰ç«¯è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·  å°±å¯ä»¥å‹ç¼©ä»£ç ä½“ç§¯")])]),e._v(" "),s("p",[e._v("2ã€åŠ å¿«ç½‘ç«™è®¿é—®é€Ÿåº¦")]),e._v(" "),s("blockquote",[s("p",[e._v("å¯ä»¥å˜å‘è§£å†³é¦–å±åŠ è½½è¿‡æ…¢çš„é—®é¢˜")])]),e._v(" "),s("p",[e._v("3ã€é¿å…ç¼“å­˜BUG")]),e._v(" "),s("blockquote",[s("p",[e._v("xxx.js?v=1.0    xxx.js?v=2.0       xxx.éšæœº.js")])]),e._v(" "),s("h3",{attrs:{id:"_3-èƒ½å¹²å—"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-èƒ½å¹²å—"}},[e._v("#")]),e._v(" 3.èƒ½å¹²å—")]),e._v(" "),s("p",[e._v("æ‰“åŒ…ï¼šå°†å¤šä¸ªJSæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼ˆ1-å‡å°‘HTTPè¯·æ±‚ã€2-å‹ç¼©å»ç©ºæ ¼å»æ³¨é‡Šå‡è½»æœåŠ¡å™¨å‹åŠ›")]),e._v(" "),s("p",[e._v("è½¬æ¢ï¼šæŠŠæ‰©å±•è¯­æ³•è½¬æ¢ä¸ºæ™®é€šçš„JS  è®©æµè§ˆå™¨èƒ½å¤Ÿæ­£å¸¸è¿è¡Œ")]),e._v(" "),s("p",[e._v("ä¼˜åŒ–ï¼š1-å¤æ‚çš„å¼€å‘æµç¨‹ æ¨¡å—åŒ–ã€2-æ€§èƒ½é—®é¢˜ å»ç©ºæ ¼ å»æ³¨é‡Š å‡å°‘HTTPè¯·æ±‚  ç­‰ç­‰")]),e._v(" "),s("h3",{attrs:{id:"_4-ä¸‹è½½webpack"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-ä¸‹è½½webpack"}},[e._v("#")]),e._v(" 4.ä¸‹è½½webpack")]),e._v(" "),s("p",[e._v("cnpm i webpack@5.70.0 webpack-cli@4.9.2  -D")]),e._v(" "),s("h2",{attrs:{id:"äºŒã€webpack-pluginé…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€webpack-pluginé…ç½®"}},[e._v("#")]),e._v(" äºŒã€webpackï¼špluginé…ç½®")]),e._v(" "),s("p",[e._v("loaderæ¦‚å¿µï¼š"),s("strong",[e._v("å¤„ç†éjsä»£ç ")])]),e._v(" "),s("p",[e._v("pluginæ¦‚å¿µï¼š"),s("strong",[e._v("è®©webpackå˜çš„æ›´å¼º")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("è¿è¡Œåœ¨æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘æ—¶æœŸ\npluginæ’ä»¶ï¼šèµ‹äºˆäº†webpackå„ç§çµæ´»çš„åŠŸèƒ½ï¼Œå¦‚æ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œç¯å¢ƒå˜é‡ï¼Œæ³¨å…¥ç­‰ï¼Œç›®çš„æ˜¯ä¸ºäº†è§£å†³loaderæ— æ³•å®ç°çš„åŠŸèƒ½ã€‚\n\nè¿è¡Œåœ¨é¡¹ç›®æ‰“åŒ…ä¹‹å‰\nloaderï¼šæ˜¯æ–‡ä»¶åŠ è½½å™¨ï¼Œèƒ½å¤ŸåŠ è½½èµ„æºæ–‡ä»¶ï¼Œå¹¶å¯¹æ–‡ä»¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œå¦‚ç¼–è¯‘ï¼Œå‹ç¼© ç­‰ï¼Œæœ€ç»ˆä¸€èµ·æ‰“åŒ…åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚\n")])])]),s("h3",{attrs:{id:"ç»ƒä¹ "}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç»ƒä¹ "}},[e._v("#")]),e._v(" ç»ƒä¹ ")]),e._v(" "),s("p",[e._v("æ­¥éª¤1ï¼šå®‰è£…")]),e._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i html-webpack-plugin -D\n")])])])]),e._v(" "),s("p",[e._v("æ­¥éª¤2ï¼šåˆ›å»ºpublicç›®å½•\\index.htmlæ–‡ä»¶")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n <meta charset="UTF-8">\n <meta name="viewport" content="width=device-width, initial-scale=1.0">\n <meta http-equiv="X-UA-Compatible" content="ie=edge">\n \x3c!-- <title>ä»¿å†™vueè„šæ‰‹æ¶å­¦ä¹ </title> --\x3e\n <title><%= htmlWebpackPlugin.options.title %></title>\n</head>\n<body>\n <div id="root"></div>\n</body>\n</html>\n')])])]),s("p",[e._v("æ­¥éª¤3ï¼šæ ¹æ®æ‰‹å†Œä¿®æ”¹vue.config.jsæ–‡ä»¶")]),e._v(" "),s("blockquote",[s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// å¯¼å…¥æ¨¡å—\nconst path = require("path");\nconst { VueLoaderPlugin } = require("vue-loader");\nconst HtmlWebpackPlugin = require("html-webpack-plugin");\n\n// å¯¼å‡ºé…ç½®\nmodule.exports = {\n// å…¥å£\nentry: "./src/main.js",\n// å‡ºå£\noutput: {\n path: path.resolve(__dirname, "dist"),\n filename: "js/[name].[chunkhash:7].js",\n},\n// è¿è¡Œåœ¨æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘æ—¶æœŸ\n// pluginæ’ä»¶ï¼šèµ‹äºˆäº†webpackå„ç§çµæ´»çš„åŠŸèƒ½ï¼Œå¦‚æ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œç¯å¢ƒå˜é‡ï¼Œæ³¨å…¥ç­‰ï¼Œç›®çš„æ˜¯ä¸ºäº†è§£å†³loaderæ— æ³•å®ç°çš„åŠŸèƒ½ã€‚\nplugins: [\n new VueLoaderPlugin(),\n //è¯´æ˜ï¼šåŠŸèƒ½è®©webpackå˜å¾—æ›´å¼º\n //ä½œç”¨ï¼šç»™public/index.htmlè‡ªåŠ¨å¼•å…¥æ‰“åŒ…åçš„jsç­‰æ–‡ä»¶\n //new HtmlWebpackPlugin()\n new HtmlWebpackPlugin({\n   // è‡ªå®šä¹‰å˜é‡\n   title: "ä»¿å†™vueè„šæ‰‹æ¶å­¦ä¹  - ç¥é¾™æ•™",\n   desc: "ç¥é¾™æ•™ä¸»ã€æ´ªç¦é½å¤©ã€å¯¿ä¸å¤©é½",\n   // è¾“å‡ºåˆ°distä¸‹é¢çš„åç§°ã€é»˜è®¤index.html\n   filename: "index.html",\n   // æ¨¡æ¿æ–‡ä»¶\n   template: "public/index.html",\n }),\n // ...\n],\n// è¿è¡Œåœ¨é¡¹ç›®æ‰“åŒ…ä¹‹å‰\n// loaderï¼šæ˜¯æ–‡ä»¶åŠ è½½å™¨ï¼Œèƒ½å¤ŸåŠ è½½èµ„æºæ–‡ä»¶ï¼Œå¹¶å¯¹æ–‡ä»¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œå¦‚ç¼–è¯‘ï¼Œå‹ç¼© ç­‰ï¼Œæœ€ç»ˆä¸€èµ·æ‰“åŒ…åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚\nmodule: {\n rules: [\n   {\n     test: /\\.vue$/,\n     loader: "vue-loader",\n   },\n   // ...\n ],\n},\n};\n\n')])])])]),e._v(" "),s("p",[e._v("æ­¥éª¤4ï¼šæµ‹è¯• é‡æ–°build")]),e._v(" "),s("h3",{attrs:{id:"mini-css-extract-pluginæ’ä»¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mini-css-extract-pluginæ’ä»¶"}},[e._v("#")]),e._v(" mini-css-extract-pluginæ’ä»¶")]),e._v(" "),s("p",[e._v("æ­¥éª¤1ï¼šå®‰è£…æ¨¡å—")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i mini-css-extract-plugin -D\n")])])]),s("p",[e._v("æ­¥éª¤2ï¼šä¿®æ”¹vue.config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('...\nconst MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\n...\n  module: {\n    rules: [\n      // å¤„ç†vueæ–‡ä»¶\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // å¤„ç†cssæ–‡ä»¶ï¼šå•ç‹¬æ‰“åŒ…å­˜æ”¾cssæ–‡ä»¶\n      {\n        test: /\\.css$/i,\n        // use: ["style-loader", "css-loader"],\n        use: [MiniCssExtractPlugin.loader, "css-loader"],\n      },\n\t\t\t// ...\n    ],\n  },\n...\n')])])]),s("h2",{attrs:{id:"ä¸‰ã€webpack-loaders-é…ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€webpack-loaders-é…ç½®"}},[e._v("#")]),e._v(" ä¸‰ã€webpackï¼šloaders é…ç½®")]),e._v(" "),s("h3",{attrs:{id:"_1-css-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-css-loader"}},[e._v("#")]),e._v(" 1.css-loader")]),e._v(" "),s("p",[e._v("å®‰è£…")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i style-loader@2.0.0 css-loader@5.2.4 -D\n")])])]),s("p",[e._v("é…ç½®vue.config.js")]),e._v(" "),s("p",[e._v("åœ¨"),s("code",[e._v("module")]),e._v("ä¸­"),s("code",[e._v("rules")]),e._v("æ·»åŠ ç›¸åº”é…ç½®")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('  module: {\n    rules: [\n      // å¤„ç†vueæ–‡ä»¶\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // å¤„ç†cssæ–‡ä»¶\n      {\n        test: /\\.css$/i,\n        use: ["style-loader", "css-loader"],\n      },\n\t\t\t// ...\n    ],\n  },\n};\n\n')])])]),s("h3",{attrs:{id:"_2-sass-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-sass-loader"}},[e._v("#")]),e._v(" 2.sass-loader")]),e._v(" "),s("p",[e._v("1.å®‰è£…")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i sass sass-loader dart-sass -D\n")])])]),s("p",[e._v("2.é…ç½®")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("module: {\nrules: [\n     \t // ....\n       // å¤„ç†scssæ–‡ä»¶\n       {\n         test: /\\.s[ac]ss$/i,\n         // use: ['style-loader', 'css-loader', 'sass-loader',],\n         use: [MiniCssExtractPlugin.loader, \"css-loader\", \"sass-loader\"],\n       },\n     // ....\n],\n},\n")])])]),s("h3",{attrs:{id:"_3-file-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-file-loader"}},[e._v("#")]),e._v(" 3.file-loader")]),e._v(" "),s("p",[e._v("å®‰è£…æ¨¡å—")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i file-loader -D\n")])])]),s("p",[e._v("ä¿®æ”¹webapck.config.jsé…ç½®æ–‡ä»¶")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("// å¤„ç†å›¾ç‰‡æ–‡ä»¶\n{\n  test: /\\.(png|jpe?g|gif)$/i,\n  loader: 'file-loader',\n  options: {\n    name: 'imgs/[name].[ext]',\n    publicPath: '/',\n  },\n},\n// ...\n")])])]),s("h3",{attrs:{id:"_4-url-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-url-loader"}},[e._v("#")]),e._v(" 4.url-loader")]),e._v(" "),s("ul",[s("li",[e._v("æ­¥éª¤1ï¼šå®‰è£…æ¨¡å— -> é…ç½®")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i url-loader -D\n")])])]),s("ul",[s("li",[e._v("æ­¥éª¤2ï¼šä¿®æ”¹webpack.config.jsé…ç½®æ–‡ä»¶")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// å¤„ç†å›¾ç‰‡æ–‡ä»¶\n// {\n//   test: /\\.(png|jpe?g|gif)$/i,\n//   loader: "file-loader",\n//   options: {\n//     name: "imgs/[name].[ext]",\n//     publicPath: "/",\n//   },\n// },\n{\n  test: /\\.(png|jpg|gif)$/i,\n  use: [\n    {\n      loader: "url-loader",\n      options: {\n        limit: 1024 * 1024 * 1, // 1M   å›¾ç‰‡è¶…è¿‡æŒ‡å®šå­—èŠ‚ä¸ç¼–ç \n        name: "imgs/[name].[ext]",\n        publicPath: "/",\n      },\n    },\n  ],\n},\n// ...\n')])])]),s("blockquote",[s("p",[e._v("å¤šå­¦ä¸€æ‹›ï¼š")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("é—®ï¼šä»€ä¹ˆæ˜¯å­—èŠ‚\nç­”ï¼šè®¡ç®—æœºè®¡é‡å•ä½ï¼Œç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…‹ã€åƒå…‹ç­‰\n----------------------------------------\né—®ï¼šè¿˜æ˜¯ä¸ç†è§£\nç­”ï¼šä½ çš„ç¡¬ç›˜ç”¨äº†å¤šå°‘   1G  10G\n----------------------------------------\né—®ï¼šè¿™ä¸ªå¤šå°‘Gè·Ÿæˆ‘ä»¬çš„å­—èŠ‚æœ‰ä»€ä¹ˆå…³ç³»å‘¢\nå…¬å¼\n\n// å­—èŠ‚æ˜¯è®¡ç®—æœºä¸­çš„ä¸€ç§è®¡é‡å•ä½ï¼Œè¡¨ç¤ºæ•°æ®é‡çš„å¤šå°‘ \n// 1å­—èŠ‚ï¼ˆByteï¼‰= 8ä½ï¼ˆbitï¼‰\n// 1KB = 1024Byteï¼ˆå­—èŠ‚ï¼‰    \n// 1M  = 1024KB\n// 1G  = 1024M\n")])])])]),e._v(" "),s("h3",{attrs:{id:"_5-babel-loader"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-babel-loader"}},[e._v("#")]),e._v(" 5.babel-loader")]),e._v(" "),s("p",[e._v("å®‰è£…babel-loader")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm i babel-loader @babel/core @babel/preset-env @babel/plugin-transform-runtime -D\n")])])]),s("p",[e._v("é…ç½®")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// å¤„ç†é€»è¾‘æ–‡ä»¶\n{\n  test: /\\.m?js$/,\n  exclude: /(node_modules|bower_components)/,\n  use: {\n    loader: "babel-loader",\n    options: {\n      presets: ["@babel/preset-env"],\n      plugins: ["@babel/plugin-transform-runtime"]\n    },\n  },\n},\n// ...\n')])])]),s("h2",{attrs:{id:"äº”ã€åˆ›å»ºè‡ªå·±çš„è„šæ‰‹æ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#äº”ã€åˆ›å»ºè‡ªå·±çš„è„šæ‰‹æ¶"}},[e._v("#")]),e._v(" äº”ã€åˆ›å»ºè‡ªå·±çš„è„šæ‰‹æ¶")]),e._v(" "),s("p",[e._v("æ­¥éª¤1ï¼šåˆ›å»ºã€04-å¿«é€Ÿå¤ä¹ ã€‘ç›®å½•")]),e._v(" "),s("p",[e._v("æ­¥éª¤2ï¼šåˆå§‹åŒ–ç›®å½•ç»“æ„")]),e._v(" "),s("blockquote",[s("h3",{attrs:{id:"public-index-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#public-index-html"}},[e._v("#")]),e._v(" public/index.html")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n <meta charset="UTF-8">\n <meta name="viewport" content="width=device-width, initial-scale=1.0">\n <meta http-equiv="X-UA-Compatible" content="ie=edge">\n \x3c!-- <title>ä»¿å†™vueè„šæ‰‹æ¶å­¦ä¹ </title> --\x3e\n <title>\n     <%= htmlWebpackPlugin.options.title %>\n </title>\n</head>\n<body>\n <div id="root"></div>\n</body>\n</html>\n')])])]),s("h3",{attrs:{id:"src-assets-css-reset-scss"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-css-reset-scss"}},[e._v("#")]),e._v(" src/assets/css/reset.scss")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("* {padding:0;margin:0}\n\nh1 {font-size:30px;color:green;}\n")])])]),s("h3",{attrs:{id:"src-assets-imgs"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-imgs"}},[e._v("#")]),e._v(" src/assets/imgs")]),e._v(" "),s("h3",{attrs:{id:"src-assets-js-qf-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-assets-js-qf-js"}},[e._v("#")]),e._v(" src/assets/js/qf.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('console.log("src/assets/js/qf.js");\n')])])]),s("h3",{attrs:{id:"src-router-index-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-router-index-js"}},[e._v("#")]),e._v(" src/router/index.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('import Vue from "vue";\nimport VueRouter from "vue-router";\n\nVue.use(VueRouter);\n\nconst routes = [\n  {\n    path: "/qf",\n    component: () => import("@/views/Qf.vue"),\n  },\n];\n\nexport default new VueRouter({\n  mode: "hash",\n  routes,\n});\n')])])]),s("h3",{attrs:{id:"src-utils-request-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-utils-request-js"}},[e._v("#")]),e._v(" src/utils/request.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// åæœŸï¼šaxiosä»£ç \n// ç°åœ¨\n\nasync function sayBy() {\n  //   const result = await fetch("https://www.baidu.com/sugrec?prod=pc&wd=html");\n  const result = await fetch("/sugrec?prod=pc&wd=html");\n  console.log(result.json());\n}\n')])])]),s("h3",{attrs:{id:"src-views-qf-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-views-qf-vue"}},[e._v("#")]),e._v(" src/views/Qf.vue")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('<template>\n  <h1>æ¬¢è¿æ¥åˆ°åƒé”‹æ•™è‚² - å­¦å‰ç«¯è¿˜å¾—è®¤å‡†æ‰›æŠŠå­ï¼ï¼ï¼</h1>\n</template>\n\n<script>\nimport "@/utils/request.js";\n\nexport default {};\n<\/script>\n\n<style></style>\n')])])]),s("h3",{attrs:{id:"src-app-vue"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-app-vue"}},[e._v("#")]),e._v(" src/App.vue")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("<template>\n  <div>\n    <h1>h5@qf hello</h1>\n    <router-view />\n  </div>\n</template>\n\n<script>\nexport default {};\n<\/script>\n\n<style></style>\n")])])]),s("h3",{attrs:{id:"src-main-js"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#src-main-js"}},[e._v("#")]),e._v(" src/main.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// console.log(666)\n\n// å¯¼å…¥vueæ¨¡å—\nimport Vue from "vue";\nimport router from "./router";\n\n// å¯¼å…¥å•æ–‡ä»¶ç»„ä»¶\nimport App from "./App.vue";\n\n// å¯¼å…¥å…¨å±€é…ç½®\nimport "./assets/css/reset.scss";\n\n// åˆ›å»ºå®ä¾‹\nnew Vue({\n  // el: \'#root\',\n  router,\n  render: (h) => h(App),\n}).$mount("#root");\n')])])])]),e._v(" "),s("p",[e._v("æ­¥éª¤3ï¼šä¸‹è½½é¡¹ç›®æ‰€éœ€ä¾èµ–")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("cnpm init -y\n\ncnpm i vue@2.6.14 vue-router@3.5.1 -S\n\ncnpm i @babel/core@7.17.7 @babel/plugin-transform-runtime@7.17.0 @babel/preset-env@7.16.11 babel-loader@8.2.3 css-loader@5.2.4 dart-sass@1.25.0 file-loader@6.2.0 html-webpack-plugin@5.5.0 mini-css-extract-plugin@2.6.0 sass@1.49.9 sass-loader@12.6.0 style-loader@2.0.0 url-loader@4.1.1 vue-loader@15.9.2 vue-template-compiler@2.6.14 webpack@5.70.0 webpack-cli@3.3.12 webpack-dev-server@3.11.2 -D\n")])])]),s("p",[e._v("æ­¥éª¤4ï¼š åˆ›å»ºé…ç½®æ–‡ä»¶ vue.config.js")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('// å¯¼å…¥æ¨¡å—\nconst path = require("path");\nconst resolve = (dir) => path.resolve(__dirname, dir);\nconst { VueLoaderPlugin } = require("vue-loader");\nconst HtmlWebpackPlugin = require("html-webpack-plugin");\nconst MiniCssExtractPlugin = require("mini-css-extract-plugin");\n\n// å¯¼å‡ºé…ç½®\nmodule.exports = {\n  resolve: {\n    // è®¾ç½®åˆ«å\n    alias: {\n      "@": resolve("src"), // è¿™æ ·é…ç½®å @ å¯ä»¥æŒ‡å‘ src ç›®å½•\n    },\n  },\n  // å¼€å‘æœåŠ¡å™¨é…ç½®\n  devServer: {\n    open: true, // cnpm run dev ä¹‹åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨\n    port: 8081, // é»˜è®¤ç«¯å£\n    proxy: {\n      // ä»»æ„åç§°: {\n      //   target: "çœŸå®è¯·æ±‚ç½‘å€",\n      //   changeOrigin: true, // æ˜¯å¦å…è®¸è·¨åŸŸ\n      //   secure: false, // å…³é—­SSLè¯ä¹¦éªŒè¯httpsåè®®æ¥å£éœ€è¦æ”¹æˆtrue\n      //   pathRewrite: {\n      //     // é‡å†™è·¯å¾„è¯·æ±‚\n      //     "^/ä»»æ„åç§°": "", //è·¯å¾„é‡å†™\n      //   },\n      // },\n      "/api": {\n        target: "https://www.baidu.com",\n        changeOrigin: true, // æ˜¯å¦å…è®¸è·¨åŸŸ\n        secure: false, // å…³é—­SSLè¯ä¹¦éªŒè¯httpsåè®®æ¥å£éœ€è¦æ”¹æˆtrue\n        pathRewrite: {\n          // é‡å†™è·¯å¾„è¯·æ±‚\n          "^/api": "", //è·¯å¾„é‡å†™\n        },\n      },\n      // ....\n    },\n  },\n  // å…¥å£\n  entry: "./src/main.js",\n  // å‡ºå£\n  output: {\n    path: path.resolve(__dirname, "dist"),\n    filename: "js/[name].[chunkhash:7].js",\n  },\n  // è¿è¡Œåœ¨æ•´ä¸ªé¡¹ç›®çš„ç¼–è¯‘æ—¶æœŸ\n  // pluginæ’ä»¶ï¼šèµ‹äºˆäº†webpackå„ç§çµæ´»çš„åŠŸèƒ½ï¼Œå¦‚æ‰“åŒ…ä¼˜åŒ–ï¼Œèµ„æºç®¡ç†ï¼Œç¯å¢ƒå˜é‡ï¼Œæ³¨å…¥ç­‰ï¼Œç›®çš„æ˜¯ä¸ºäº†è§£å†³loaderæ— æ³•å®ç°çš„åŠŸèƒ½ã€‚\n  plugins: [\n    new VueLoaderPlugin(),\n    //è¯´æ˜ï¼šåŠŸèƒ½è®©webpackå˜å¾—æ›´å¼º\n    //ä½œç”¨ï¼šç»™public/index.jsè‡ªåŠ¨å¼•å…¥æ‰“åŒ…åçš„jsç­‰æ–‡ä»¶\n    //new HtmlWebpackPlugin()\n    new HtmlWebpackPlugin({\n      // è‡ªå®šä¹‰å˜é‡\n      title: "ä»¿å†™vueè„šæ‰‹æ¶å­¦ä¹  - ç¥é¾™æ•™",\n      desc: "ç¥é¾™æ•™ä¸»ã€æ´ªç¦é½å¤©ã€å¯¿ä¸å¤©é½",\n      // è¾“å‡ºåˆ°distä¸‹é¢çš„åç§°ã€é»˜è®¤index.html\n      filename: "index.html",\n      // æ¨¡æ¿æ–‡ä»¶\n      template: "public/index.html",\n    }),\n    //è¯´æ˜ï¼šåŠŸèƒ½è®©webpackå˜å¾—æ›´å¼º\n    //ä½œç”¨ï¼šCSSå•ç‹¬æ–‡ä»¶å­˜æ”¾\n    new MiniCssExtractPlugin({\n      filename: "css/[name].css",\n    }),\n    // ...\n  ],\n  // è¿è¡Œåœ¨é¡¹ç›®æ‰“åŒ…ä¹‹å‰\n  // loaderï¼šæ˜¯æ–‡ä»¶åŠ è½½å™¨ï¼Œèƒ½å¤ŸåŠ è½½èµ„æºæ–‡ä»¶ï¼Œå¹¶å¯¹æ–‡ä»¶è¿›è¡Œä¸€äº›å¤„ç†ï¼Œå¦‚ç¼–è¯‘ï¼Œå‹ç¼© ç­‰ï¼Œæœ€ç»ˆä¸€èµ·æ‰“åŒ…åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­ã€‚\n  module: {\n    rules: [\n      // å¤„ç†vueæ–‡ä»¶\n      {\n        test: /\\.vue$/,\n        loader: "vue-loader",\n      },\n      // å¤„ç†cssæ–‡ä»¶ï¼šå•ç‹¬æ‰“åŒ…å­˜æ”¾cssæ–‡ä»¶\n      {\n        test: /\\.css$/i,\n        // use: ["style-loader", "css-loader"],\n        use: [MiniCssExtractPlugin.loader, "css-loader"],\n      },\n      // å¤„ç†scssæ–‡ä»¶\n      {\n        test: /\\.s[ac]ss$/i,\n        // use: [\'style-loader\', \'css-loader\', \'sass-loader\',],\n        use: [MiniCssExtractPlugin.loader, "css-loader", "sass-loader"],\n      },\n      // å¤„ç†å›¾ç‰‡æ–‡ä»¶\n      // {\n      //   test: /\\.(png|jpe?g|gif)$/i,\n      //   loader: "file-loader",\n      //   options: {\n      //     name: "imgs/[name].[ext]",\n      //     publicPath: "/",\n      //   },\n      // },\n      {\n        test: /\\.(png|jpg|gif)$/i,\n        use: [\n          {\n            loader: "url-loader",\n            options: {\n              limit: 1024 * 1024 * 1, // 1M   å›¾ç‰‡è¶…è¿‡æŒ‡å®šå­—èŠ‚ä¸ç¼–ç \n              name: "imgs/[name].[ext]",\n              publicPath: "/",\n            },\n          },\n        ],\n      },\n      // å¤„ç†é€»è¾‘æ–‡ä»¶\n      {\n        test: /\\.m?js$/,\n        exclude: /(node_modules|bower_components)/,\n        use: {\n          loader: "babel-loader",\n          options: {\n            presets: ["@babel/preset-env"],\n            plugins: ["@babel/plugin-transform-runtime"],\n          },\n        },\n      },\n      // ...\n    ],\n  },\n};\n')])])]),s("p",[e._v("æ­¥éª¤5ï¼šä¿®æ”¹package.json")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('"build": "webpack --mode=production --config ./vue.config.js",\n"serve": "webpack-dev-server --mode=development --config ./vue.config.js",\n')])])]),s("p",[e._v("æ­¥éª¤6ï¼šå¯åŠ¨æµ‹è¯•")]),e._v(" "),s("h2",{attrs:{id:"å‘å¸ƒ"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å‘å¸ƒ"}},[e._v("#")]),e._v(" å‘å¸ƒ")]),e._v(" "),s("ul",[s("li",[e._v("æ­¥éª¤1ï¼šåˆ›å»ºtempç›®å½•")]),e._v(" "),s("li",[e._v("æ­¥éª¤2ï¼šå°†ã€04-å¿«é€Ÿå¤ä¹ ã€‘åˆ æ‰ã€node_modulesã€‘ç›®å½•ï¼Œç„¶åã€å¤åˆ¶ã€‘åˆ°ã€tempã€‘ç›®å½•ï¼Œæ”¹æˆã€exampleã€‘")]),e._v(" "),s("li",[e._v("æ­¥éª¤3ï¼šè¿›å…¥ç›®å½•ï¼Œç”Ÿæˆpackage.jsonæ–‡ä»¶ï¼ˆæ”¹æ¨¡å—åã€ç‰ˆæœ¬ã€åˆ æ‰mainæ”¹æˆbinå¦‚ä¸‹")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('{\n  "name": "webopenfather-myvue-cli",\n  "version": "1.0.0",\n  "description": "webopenfather my vue generator",\n  "bin": {\n    "myvue-cli": "./bin/myvue-cli.js"\n  },\n  "scripts": {\n    "test": "echo \\"Error: no test specified\\" && exit 1"\n  },\n  "keywords": ["myvue", "vue", "vue-cli"],\n  "author": "webopenfather",\n  "license": "ISC"\n}\n\n')])])]),s("ul",[s("li",[e._v("æ­¥éª¤4ï¼šåˆ›å»ºtemp\\bin\\myvue-cli.js")])]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('#!/usr/bin/env node\n"use strict";\n\n// å­—ä½“é¢œè‰² https://bj.96weixin.com/emoji/\nconst styles = {\n  bold: "\\x1B[1m%s\\x1B[22m",\n  italic: "\\x1B[3m%s\\x1B[23m",\n  underline: "\\x1B[4m%s\\x1B[24m",\n  inverse: "\\x1B[7m%s\\x1B[27m",\n  strikethrough: "\\x1B[9m%s\\x1B[29m",\n  white: "\\x1B[37m%s\\x1B[39m",\n  grey: "\\x1B[90m%s\\x1B[39m",\n  black: "\\x1B[30m%s\\x1B[39m",\n  blue: "\\x1B[34m%s\\x1B[39m",\n  cyan: "\\x1B[36m%s\\x1B[39m",\n  green: "\\x1B[32m%s\\x1B[39m",\n  magenta: "\\x1B[35m%s\\x1B[39m",\n  red: "\\x1B[31m%s\\x1B[39m",\n  yellow: "\\x1B[33m%s\\x1B[39m",\n  whiteBG: "\\x1B[47m%s\\x1B[49m",\n  greyBG: "\\x1B[49;5;8m%s\\x1B[49m",\n  blackBG: "\\x1B[40m%s\\x1B[49m",\n  blueBG: "\\x1B[44m%s\\x1B[49m",\n  cyanBG: "\\x1B[46m%s\\x1B[49m",\n  greenBG: "\\x1B[42m%s\\x1B[49m",\n  magentaBG: "\\x1B[45m%s\\x1B[49m",\n  redBG: "\\x1B[41m%s\\x1B[49m",\n  yellowBG: "\\x1B[43m%s\\x1B[49m",\n};\n\n// å¯¼å…¥æ¨¡å—\nconst fs = require("fs");\nconst path = require("path");\n\n// è·å–æ§åˆ¶å°å‚æ•°\nlet argv = process.argv;\nlet dirname = argv[2];\n\n// æ‹·è´æ–‡ä»¶\nif (dirname) {\n  copyFile(path.dirname(__dirname) + `/example`, `${process.cwd()}/${dirname}`);\n  console.log(styles["green"], `\\nğŸ˜ğŸ˜ğŸ˜ $ cd ${dirname}`);\n  console.log(styles["green"], `ğŸ˜ğŸ˜ğŸ˜ $ cnpm i`);\n  console.log(styles["green"], `ğŸ˜ğŸ˜ğŸ˜ $ cnpm run serve \\n`);\n} else {\n  console.log(styles["red"], "\\nâŒè¯­æ³•é”™è¯¯ï¼Œè¯·è¾“å…¥é¡¹ç›®å ğŸ‘€ğŸ‘€ğŸ‘€ \\n");\n}\n\n/**\n * æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨\n * @param {string} path è·¯å¾„\n */\nfunction isExist(path) {\n  if (!fs.existsSync(path)) {\n    fs.mkdirSync(path);\n  }\n}\n\n/**\n * æ‹·è´æ–‡ä»¶\n * @param {string} sourcePath è·¯å¾„\n * @param {string} targetPath è·¯å¾„\n */\nfunction copyFile(sourcePath, targetPath) {\n  isExist(targetPath);\n\n  const sourceFile = fs.readdirSync(sourcePath, { withFileTypes: true });\n\n  sourceFile.forEach((file) => {\n    const newSourcePath = path.resolve(sourcePath, file.name);\n    const newTargetPath = path.resolve(targetPath, file.name);\n    if (file.isDirectory()) {\n      isExist(newTargetPath);\n      copyFile(newSourcePath, newTargetPath);\n    } else {\n      fs.copyFileSync(newSourcePath, newTargetPath);\n    }\n  });\n}\n\n')])])]),s("p",[e._v("æ­¥éª¤5ï¼šREADME.md")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# webopenfather-myvue-cli\n\n[![Build Status][travis-url]][travis-url]\n[![MIT License][license-url]][license-url]\n[![NPM downloads][npm-downloads-image]][npm-downloads-url]\n\n# â¬‡ï¸ Install\n\n> cnpm i webopenfather-myvue-cli -g\n\n# ğŸ¨ Usage\n\n> æ­¥éª¤ 1ï¼š myvue-cli é¡¹ç›®å\n\n> æ­¥éª¤ 2ï¼šæ ¹æ®æç¤ºè¿›å…¥ç›®å½•ä¸‹è½½æ¨¡å—å¯åŠ¨æµ‹è¯•\n\n[travis-url]: https://img.shields.io/badge/build-passing-brightgreen\n[license-url]: https://img.shields.io/badge/license-MIT-informational\n[npm-downloads-image]: https://img.shields.io/badge/downloads-67M%2Fmonth-brightgreen\n[npm-downloads-url]: https://npmcharts.com/compare/webopenfather-date?minimal=true\n\n# ğŸ”’ License\n\nSee the LICENSE file for license rights and limitations (ISC).\n\n")])])]),s("p",[e._v("æ­¥éª¤6ï¼šé€šè¿‡npmå‘å¸ƒ")]),e._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("npm config set registry https://registry.npmjs.org/\nnpm login\nnpm publish\n")])])])])}),[],!1,null,null,null);s.default=t.exports}}]);